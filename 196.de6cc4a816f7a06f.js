"use strict";(self.webpackChunkGCSEAMS=self.webpackChunkGCSEAMS||[]).push([[196],{1472:(O,x,v)=>{v.d(x,{c:()=>p});var u=v(2103),e=v(1223);let p=(()=>{class f{constructor(){this.dimension=[],this.showXAxis=!0,this.showYAxis=!0,this.showLegend=!0,this.showXAxisLabel=!0,this.showYAxisLabel=!0,this.legendTitle="Legend",this.legendPosition=u.tV.Below,this.colorScheme={name:"vivid",selectable:!0,group:u.N3.Ordinal,domain:["#647c8a","#3f51b5","#2196f3","#00b862","#afdf0a","#a7b61a","#f3e562","#ff9800","#ff5722","#ff4514"]},Object.assign(this,this.summarizedData)}}return f.\u0275fac=function(t){return new(t||f)},f.\u0275cmp=e.Xpm({type:f,selectors:[["app-grouped-vertical-bar-chart"]],inputs:{summarizedData:"summarizedData",xAxisLabel:"xAxisLabel",yAxisLabel:"yAxisLabel",dimension:"dimension"},decls:1,vars:12,consts:[[3,"view","results","xAxis","yAxis","legend","scheme","legendPosition","showXAxisLabel","showYAxisLabel","xAxisLabel","yAxisLabel","legendTitle"]],template:function(t,b){1&t&&e._UZ(0,"ngx-charts-bar-vertical-2d",0),2&t&&e.Q6J("view",b.dimension)("results",b.summarizedData)("xAxis",b.showXAxis)("yAxis",b.showYAxis)("legend",b.showLegend)("scheme",b.colorScheme)("legendPosition",b.legendPosition)("showXAxisLabel",b.showXAxisLabel)("showYAxisLabel",b.showYAxisLabel)("xAxisLabel",b.xAxisLabel)("yAxisLabel",b.yAxisLabel)("legendTitle",b.legendTitle)},directives:[u.H5],styles:[""]}),f})()},5196:(O,x,v)=>{v.r(x),v.d(x,{HomeModule:()=>V});var u=v(9808),e=v(8118),p=v(5861),f=v(2033),E=v(4012),t=v(1223),b=v(555),A=v(968),q=v(1472);const D=function(l){return[l,350]};function w(l,Z){if(1&l&&(t.ynx(0),t.TgZ(1,"div",10),t.TgZ(2,"h6",11),t._uU(3),t.qZA(),t._UZ(4,"app-grouped-vertical-bar-chart",8),t.qZA(),t.BQk()),2&l){const s=Z.$implicit;t.oxw();const r=t.MAs(10);t.xp6(3),t.Oqu(null==s?null:s.department),t.xp6(1),t.Q6J("dimension",t.VKq(3,D,r.offsetWidth-50))("summarizedData",s.value)}}let M=(()=>{class l{constructor(s,r,d){this.route=s,this.userService=r,this.dataService=d,this.multi=[],this.multi2=[],this.byDepartmentBreakdown=[]}ngOnInit(){this.activeEventUUID=this.route.params.subscribe(s=>{this.uuid=s.uuid}),this.getEventDetails(this.uuid),console.log(this.uuid)}getEventDetails(s){var r=this;const d=new f.K;d.EndPoint=`event/${s}`,d.RequestType=E.l.GET_REQUIRES_AUTHENTICATION,d.AuthToken=this.userService.HttpOptions,this.dataService.httpRequest(d).subscribe(function(){var m=(0,p.Z)(function*(g){r.activeEvent=g,yield r.getEventAnalyticsByDepartment(s),yield r.getEventAnalyticsByCourse(s),yield console.log(g)});return function(g){return m.apply(this,arguments)}}())}getEventAnalyticsByDepartment(s){var r=this;const d=new f.K;d.EndPoint=`analytics/department/${s}`,d.RequestType=E.l.GET_REQUIRES_AUTHENTICATION,d.AuthToken=this.userService.HttpOptions,this.dataService.httpRequest(d).subscribe(function(){var m=(0,p.Z)(function*(g){yield r.setDepartmentAnalytics(g),yield r.setAnalyticsByDepartmentData(g),yield console.log(g)});return function(g){return m.apply(this,arguments)}}())}setDepartmentAnalytics(s){this.departmentAnalytics=s}setAnalyticsByDepartmentData(s){for(let r of s)this.multi.push({name:r.department_code,series:[{name:"Invited",value:r.invited},{name:"Viewed",value:r.views},{name:"Registered",value:r.registered},{name:"Attended",value:r.attendees}]});this.multi=[...this.multi],console.log("multi value:"),console.log(this.multi)}getEventAnalyticsByCourse(s){var r=this;const d=new f.K;d.EndPoint=`analytics/course/${s}`,d.RequestType=E.l.GET_REQUIRES_AUTHENTICATION,d.AuthToken=this.userService.HttpOptions,this.dataService.httpRequest(d).subscribe(function(){var m=(0,p.Z)(function*(g){yield r.setCoursesAnalytics(g),yield r.setAnalyticsByCourseData(g),yield r.breakDownPerDepartment(),yield console.log(g)});return function(g){return m.apply(this,arguments)}}())}setCoursesAnalytics(s){this.coursesAnalytics=s}setAnalyticsByCourseData(s){for(let r of s)this.multi2.push({department:r.department_name,name:r.course_code,series:[{name:"Invited",value:r.invited},{name:"Viewed",value:r.views},{name:"Registered",value:r.registered},{name:"Attended",value:r.attendees}]});this.multi2=[...this.multi2]}breakDownPerDepartment(){const s=this.userService.getDepartments();for(let r of s)for(let d of this.coursesAnalytics)if(r.department_code==d.department_code){this.byDepartmentBreakdown.push({department:r.department_name,value:this.getMultiByDepartment(r.department_name)});break}}getMultiByDepartment(s){let r=[];for(let d of this.multi2)d.department==s&&r.push(d);return r}}return l.\u0275fac=function(s){return new(s||l)(t.Y36(e.gz),t.Y36(b.K),t.Y36(A.D))},l.\u0275cmp=t.Xpm({type:l,selectors:[["dashboard-event-analytics"]],decls:19,vars:6,consts:[["id","event-analytics-body"],[1,"gs-header"],[1,"gs-cards-body"],[1,"gs-card"],[1,"gs-card-header"],[1,"d-flex","align-items-center","m-0"],[1,"gs-card-content"],["containerRef",""],[3,"dimension","summarizedData"],[4,"ngFor","ngForOf"],[1,"mb-5"],[1,"mb-3"]],template:function(s,r){if(1&s&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"h2"),t._uU(3),t.qZA(),t.qZA(),t.TgZ(4,"div",2),t.TgZ(5,"div",3),t.TgZ(6,"div",4),t.TgZ(7,"h5",5),t._uU(8,"Number of Student Participation per Department"),t.qZA(),t.qZA(),t.TgZ(9,"div",6,7),t._UZ(11,"app-grouped-vertical-bar-chart",8),t.qZA(),t.qZA(),t.TgZ(12,"div",3),t.TgZ(13,"div",4),t.TgZ(14,"h5",5),t._uU(15,"Number of Student Participation per Program"),t.qZA(),t.qZA(),t.TgZ(16,"div",6,7),t.YNc(18,w,5,5,"ng-container",9),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&s){const d=t.MAs(10);t.xp6(3),t.Oqu(null!=r.activeEvent&&r.activeEvent.event_title?null==r.activeEvent?null:r.activeEvent.event_title:"Event name"),t.xp6(8),t.Q6J("dimension",t.VKq(4,D,d.offsetWidth-50))("summarizedData",r.multi),t.xp6(7),t.Q6J("ngForOf",r.byDepartmentBreakdown)}},directives:[q.c,u.sg],styles:["#event-analytics-body[_ngcontent-%COMP%]{overflow-y:auto;height:100%}.gs-cards-body[_ngcontent-%COMP%]{--spacing: 32px;display:flex;flex-direction:column;gap:var(--spacing);padding:var(--spacing)}"]}),l})();var P=v(7796),R=v(2159);function N(l,Z){if(1&l){const s=t.EpF();t.TgZ(0,"button",17),t.NdJ("click",function(){return t.CHM(s),t.oxw().updateEvent()}),t._uU(1,"Save"),t.qZA()}if(2&l){const s=t.oxw();t.Q6J("disabled",!s.isEventValid||s.isEventPristine)}}function Q(l,Z){1&l&&(t.TgZ(0,"div",18),t.TgZ(1,"div",19),t.TgZ(2,"span",20),t._uU(3,"Loading..."),t.qZA(),t.qZA(),t.qZA())}function F(l,Z){1&l&&(t.TgZ(0,"span",30),t._uU(1,"Present"),t.qZA())}function L(l,Z){1&l&&(t.TgZ(0,"span",31),t._uU(1,"Absent"),t.qZA())}function J(l,Z){if(1&l&&(t.TgZ(0,"tr"),t.TgZ(1,"th",24),t._uU(2),t.qZA(),t.TgZ(3,"td",25),t._uU(4),t.qZA(),t.TgZ(5,"td",26),t._uU(6),t.qZA(),t.TgZ(7,"td",27),t.YNc(8,F,2,0,"span",28),t.qZA(),t.YNc(9,L,2,0,"ng-template",null,29,t.W1O),t.qZA()),2&l){const s=Z.$implicit,r=Z.index,d=t.MAs(10);t.xp6(2),t.Oqu(r+1),t.xp6(2),t.Oqu(s.course_code),t.xp6(2),t.Oqu(s.name),t.xp6(2),t.Q6J("ngIf",s.is_present)("ngIfElse",d)}}function B(l,Z){if(1&l&&(t.TgZ(0,"table",22),t.TgZ(1,"tbody"),t.YNc(2,J,11,5,"tr",23),t.qZA(),t.qZA()),2&l){const s=t.oxw(2);t.xp6(2),t.Q6J("ngForOf",s.registeredStudents)}}function U(l,Z){if(1&l&&t.YNc(0,B,3,1,"table",21),2&l){const s=t.oxw(),r=t.MAs(24);t.Q6J("ngIf",void 0!==s.registeredStudents&&s.registeredStudents.length>0)("ngIfElse",r)}}const G=function(){return{title:"No attendees yet...",message:"Try refreshing this page to see if an attendee registered or attended to this event."}};function Y(l,Z){1&l&&t._UZ(0,"app-empty-state",32),2&l&&t.Q6J("message",t.DdM(1,G))}const z=[{path:"",pathMatch:"full",redirectTo:"events/ongoing"},{path:"",component:(()=>{class l{constructor(s,r,d){this.userService=s,this.dataService=r,this.router=d,this.fullName=""}ngOnInit(){this.userService.deleteBeginningQrLink(),this.userService.deleteEndQrLink(),this.userService.getAutoLoggedIn()||this.router.navigateByUrl(""),this.userService.getTimerIsStarted()||(console.log("timer started: "+this.userService.getTimerIsStarted()),console.log("Refreshing token."),this.userService.refreshAccessToken(),this.userService.start()),this.fetchProfile(),this.userService.isDepartmentLoaded||this.fetchDepartments(),this.userService.IsSpeakerLoaded||this.fetchSpeakers()}fetchSpeakers(){const s=new f.K;s.EndPoint="speakers",s.RequestType=E.l.GET_REQUIRES_AUTHENTICATION,s.AuthToken=this.userService.HttpOptions,this.dataService.httpRequest(s).subscribe(r=>this.userService.setSpeakers(r))}fetchDepartments(){const s=new f.K;s.EndPoint="departments",s.RequestType=E.l.GET_NO_AUTHENTICATION,this.dataService.httpRequest(s).subscribe(r=>this.userService.setDepartments(r))}fetchProfile(){var s=this;const r=new f.K;r.EndPoint="profile",r.RequestType=E.l.GET_REQUIRES_AUTHENTICATION,r.AuthToken=this.userService.HttpOptions,this.dataService.httpRequest(r).subscribe(d=>{this.userService.setActiveUser(d),this.fullName=d.first_name+" "+d.middle_name[0]+". "+d.last_name},function(){var d=(0,p.Z)(function*(m){s.dataService.handleError(m)});return function(m){return d.apply(this,arguments)}}())}logout(){this.userService.logOut()}}return l.\u0275fac=function(s){return new(s||l)(t.Y36(b.K),t.Y36(A.D),t.Y36(e.F0))},l.\u0275cmp=t.Xpm({type:l,selectors:[["app-home"]],decls:40,vars:1,consts:[["id","home-body"],["id","sidenav",1,"d-flex","flex-column","bg-light","border-end","user-select-none"],["id","logo",1,"d-flex","align-items-center","gap-3","mb-5","p-2"],["src","assets/logo_small.png","width","auto","height","auto",1,"mb-2"],[1,"text-primary",2,"font-weight","700","font-size","20px"],[1,"nav","flex-column","mb-auto"],[1,"nav-item","mb-3"],["routerLink","create-event",1,"nav-link","nav-fab","rounded-pill"],[1,"icon-bg"],[1,"bi","bi-plus-lg"],[1,"nav-item"],["routerLink","events","routerLinkActive","active",1,"nav-link"],[1,"bi","bi-calendar3-event"],["routerLink","dashboard","routerLinkActive","active",1,"nav-link"],[1,"bi","bi-clipboard-data"],[1,"dropdown"],["id","profile-button","type","button","data-bs-toggle","dropdown","aria-expanded","false"],["id","profile-pic",1,"bg-primary","rounded-circle"],[1,"text-primary","fw-bold","m-0","ms-2"],[1,"bi","bi-caret-down-fill","text-primary"],["aria-labelledby","dropdownMenuButton1",1,"dropdown-menu"],["routerLink","profile",1,"dropdown-item"],[1,"dropdown-divider"],[1,"dropdown-item",3,"click"],["id","home-content"]],template:function(s,r){1&s&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t._UZ(3,"img",3),t.TgZ(4,"span",4),t._uU(5,"GC-SEAMS"),t.qZA(),t.qZA(),t.TgZ(6,"ul",5),t.TgZ(7,"li",6),t.TgZ(8,"a",7),t.TgZ(9,"div",8),t._UZ(10,"i",9),t.qZA(),t._uU(11," Create Event "),t.qZA(),t.qZA(),t.TgZ(12,"li",10),t.TgZ(13,"a",11),t.TgZ(14,"div",8),t._UZ(15,"i",12),t.qZA(),t._uU(16," Events "),t.qZA(),t.qZA(),t.TgZ(17,"li",10),t.TgZ(18,"a",13),t.TgZ(19,"div",8),t._UZ(20,"i",14),t.qZA(),t._uU(21," Dashboard "),t.qZA(),t.qZA(),t.qZA(),t.TgZ(22,"div",15),t.TgZ(23,"a",16),t._UZ(24,"div",17),t.TgZ(25,"p",18),t._uU(26),t.qZA(),t._uU(27,"\xa0 "),t._UZ(28,"i",19),t.qZA(),t.TgZ(29,"ul",20),t.TgZ(30,"li"),t.TgZ(31,"a",21),t._uU(32,"Profile"),t.qZA(),t.qZA(),t.TgZ(33,"li"),t._UZ(34,"hr",22),t.qZA(),t.TgZ(35,"li"),t.TgZ(36,"a",23),t.NdJ("click",function(){return r.logout()}),t._uU(37,"Log out"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(38,"div",24),t._UZ(39,"router-outlet"),t.qZA(),t.qZA()),2&s&&(t.xp6(26),t.Oqu(r.fullName))},directives:[e.yS,e.Od,e.lC],styles:["#home-body[_ngcontent-%COMP%]{display:flex;width:100%;height:100%;background-color:#fff}#sidenav[_ngcontent-%COMP%]{height:100%;min-width:250px;padding:24px}#sidenav[_ngcontent-%COMP%]   .nav[_ngcontent-%COMP%]{gap:6px}#sidenav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;color:var(--bs-gray-600);font-weight:500;padding:8px;border-radius:6px}#sidenav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{color:var(--bs-primary);background-color:rgb(var(--bs-primary-rgb),8%)}#sidenav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link.nav-fab[_ngcontent-%COMP%]{color:#fff;background-color:var(--bs-primary);box-shadow:0 3px 6px 0 rgb(var(--bs-primary-rgb),24%)}#sidenav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .icon-bg[_ngcontent-%COMP%]{--icon-size: 32px;display:flex;align-items:center;justify-content:center;width:var(--icon-size);height:var(--icon-size)}#profile-button[_ngcontent-%COMP%]{display:flex;align-items:center;text-decoration:none}#profile-button[_ngcontent-%COMP%]   #profile-pic[_ngcontent-%COMP%]{display:inline-block;width:36px;height:auto;aspect-ratio:1}#home-content[_ngcontent-%COMP%]{position:relative;min-width:0;flex:1}.navbar[_ngcontent-%COMP%]{padding-left:32px;padding-right:32px}#event-search[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{top:.45rem;left:.75rem}#event-search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:400px;padding-left:2.5rem}"]}),l})(),children:[{path:"events",pathMatch:"full",redirectTo:"events/ongoing"},{path:"create-event",loadChildren:()=>v.e(80).then(v.bind(v,4080)).then(l=>l.CreateEventModule)},{path:"events",loadChildren:()=>v.e(876).then(v.bind(v,5876)).then(l=>l.EventsModule)},{path:"events/:uuid",component:(()=>{class l{constructor(s,r,d,m){this.userService=s,this.dataService=r,this.location=d,this.route=m,this.isGettingRegisteredStudents=!0,this.isEventUpdating=!1,this.isBeginningQRCodeGenerating=!1,this.isEndQRCodeGenerating=!1,this.currentDate=new Date,this.isEventOngoing=!1,this.isEventEditable=!1,this.analytics={attendees:0,invited:0,registered:0,views:0},this.event={departments:[],event_description:"",event_end_date:"",event_id:0,event_start_date:"",event_title:"",event_uuid:"",is_attendance_strict:!0,registration_link:"",seminar_hours:0,speakers:[],timezone_id:"",event_poster_link:""},this.departments=[],this.chosenDepartments=[],this.speakers=[],this.chosenSpeaker=[],this.chosenDepartmentsList="",this.chosenSpeakersList=""}ngOnInit(){this.activeEventUUID=this.route.params.subscribe(s=>{this.uuid=s.uuid})}ngAfterViewInit(){this.getEventDetails(this.uuid),this.eventCurrentState=Object.assign({},this.eventCardEdit.event),this.eventCardEdit.eventForm.valueChanges.subscribe(()=>{JSON.stringify(this.eventCardEdit.event)!=JSON.stringify(this.eventCurrentState)?(console.log(JSON.stringify(this.eventCurrentState)),console.log(JSON.stringify(this.eventCardEdit.event)),console.log("changed")):console.log("back to orig")}),this.getAnalyticsData(this.uuid)}ngDoCheck(){var s,r;this.isEventValid=null===(s=this.eventCardEdit)||void 0===s?void 0:s.eventForm.valid,this.isEventPristine=null===(r=this.eventCardEdit)||void 0===r?void 0:r.eventForm.pristine}getEventStartTime(s){const d=s.event_start_date.split("[")[0].toString(),m=new Date(d),g=m.getHours(),C=m.getMinutes();return this.eventStartDate=m,g.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1})+":"+C.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1})}getEventEndTime(s){const d=s.event_end_date.split("[")[0].toString(),m=new Date(d),g=m.getHours(),C=m.getMinutes();return this.eventEndDate=m,g.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1})+":"+C.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1})}getEventDate(s){let m=s.event_start_date.split("[")[0].toString().split("-");return m[0]+"-"+m[1]+"-"+m[2].split("T")[0]}getEventDetails(s){var r=this;const d=new f.K;d.EndPoint=`event/${s}`,d.RequestType=E.l.GET_REQUIRES_AUTHENTICATION,d.AuthToken=this.userService.HttpOptions,this.dataService.httpRequest(d).subscribe(function(){var m=(0,p.Z)(function*(g){r.eventCardEdit.eventForm.patchValue({eventName:g.event_title,eventDetails:g.event_description,eventDate:r.getEventDate(g),eventStartTime:r.getEventStartTime(g),eventEndTime:r.getEventEndTime(g),eventSeminarHours:g.seminar_hours,eventIsStrict:g.is_attendance_strict,eventRegistrationForm:g.registration_link}),r.eventCardEdit.event.event_poster_link=g.event_poster_link,r.eventCardEdit.initialEventForm=r.eventCardEdit.eventForm.value,r.eventCardEdit.chosenSpeakers=g.speakers,r.eventCardEdit.savedSpeakers=[...r.eventCardEdit.chosenSpeakers],r.eventCardEdit.event.speakers=[...r.eventCardEdit.savedSpeakers];for(let C of r.eventCardEdit.departments)for(let I of g.departments)C.department_id==I.department_id&&(r.eventCardEdit.chosenDepartments[C.department_id-1]=r.eventCardEdit.departments[C.department_id-1]);r.eventCardEdit.eventForm.controls.eventInvitedDepartments.patchValue(r.eventCardEdit.chosenDepartments),console.log(r.eventCardEdit.chosenDepartments);for(let C of r.eventCardEdit.speakers)for(let I of g.speakers)C.speaker_id==I.speaker_id&&(C.speaker_is_added=!0,console.log(C+" : "+I));r.eventCardEdit.eventForm.controls.eventSpeakers.patchValue(r.eventCardEdit.savedSpeakers),r.getRegisteredStudents(s).then(()=>{r.getAttendedStudents(s),r.processStudentsData()}),console.log(g.is_attendance_strict),r.isEventOngoing=r.currentDate>r.eventStartDate&&r.currentDate<r.eventEndDate,r.isEventEditable=r.currentDate<r.eventStartDate});return function(g){return m.apply(this,arguments)}}(),m=>{this.dataService.handleError(m)})}setEventDetails(s){this.event=s}updateEvent(){var s=this;this.isEventUpdating=!0;let r=this.eventCardEdit.event;r.departments=r.departments.filter(m=>m);const d=new f.K;d.EndPoint=`event/${this.uuid}`,d.RequestType=E.l.PUT_REQUIRES_AUTHENTICATION,d.Body=r,d.AuthToken=this.userService.HttpOptions,this.dataService.httpRequest(d).subscribe(function(){var m=(0,p.Z)(function*(g){yield console.log(g),s.isEventUpdating=!1,sessionStorage.setItem("updatedEventUUID",s.uuid),s.location.back()});return function(g){return m.apply(this,arguments)}}(),m=>{this.dataService.handleError(m),this.isEventUpdating=!1})}getRegisteredStudents(s){var r=this;return(0,p.Z)(function*(){r.isGettingRegisteredStudents=!0;const d=new f.K;d.EndPoint=`event/registered/${s}`,d.RequestType=E.l.GET_REQUIRES_AUTHENTICATION,d.AuthToken=r.userService.HttpOptions,r.dataService.httpRequest(d).subscribe(function(){var m=(0,p.Z)(function*(g){r.registeredStudents=g,console.log("registered: ----------"),console.log(g),r.isGettingRegisteredStudents=!1,console.log(r.registeredStudents)});return function(g){return m.apply(this,arguments)}}(),m=>{r.dataService.handleError(m),r.isGettingRegisteredStudents=!1})})()}getAttendedStudents(s){var r=this;const d=new f.K;d.EndPoint=`event/attended/${s}`,d.RequestType=E.l.GET_REQUIRES_AUTHENTICATION,d.AuthToken=this.userService.HttpOptions,this.dataService.httpRequest(d).subscribe(function(){var m=(0,p.Z)(function*(g){r.attendedStudents=g,r.processStudentsData(),console.log("Attended: ----------"),console.log(g)});return function(g){return m.apply(this,arguments)}}(),m=>{this.dataService.handleError(m)})}processStudentsData(){if(this.registeredStudents)for(let s of this.registeredStudents)for(let r of this.attendedStudents)if(s.id==r.id){s.is_present=!0;break}console.log("Data Processing completed"),console.log(this.registeredStudents)}getAnalyticsData(s){var r=this;const d=new f.K;d.EndPoint=`analytics/${s}`,d.RequestType=E.l.GET_REQUIRES_AUTHENTICATION,d.AuthToken=this.userService.HttpOptions,this.dataService.httpRequest(d).subscribe(function(){var m=(0,p.Z)(function*(g){r.analytics=g,console.log(r.analytics)});return function(g){return m.apply(this,arguments)}}())}}return l.\u0275fac=function(s){return new(s||l)(t.Y36(b.K),t.Y36(A.D),t.Y36(u.Ye),t.Y36(e.gz))},l.\u0275cmp=t.Xpm({type:l,selectors:[["app-event-details"]],viewQuery:function(s,r){if(1&s&&t.Gf(P.x,5),2&s){let d;t.iGM(d=t.CRH())&&(r.eventCardEdit=d.first)}},decls:25,vars:10,consts:[["id","event-details-body"],[1,"gs-header"],[1,"gs-header-buttons"],["class","btn btn-primary rounded-pill shadow",3,"disabled","click",4,"ngIf"],[1,"gs-cards-body"],[1,"event-details",3,"activeEventUUID","isEventOngoing","isEventEditable"],[1,"gs-card","attendance-card"],[1,"gs-card-header"],[1,"d-flex","align-items-center","m-0"],[1,"ms-auto","hstack","gap-2","ps-5"],[1,"badge","rounded-pill","border","border-primary","text-primary","float-end"],[1,"badge","rounded-pill","border","border-danger","text-danger","float-end"],[1,"badge","rounded-pill","border","border-warning","text-warning","float-end"],[1,"gs-card-content","p-0"],["style","display: flex; align-items: center; justify-content: center; margin: 300px 0;",4,"ngIf","ngIfElse"],["attendanceList",""],["emptyState",""],[1,"btn","btn-primary","rounded-pill","shadow",3,"disabled","click"],[2,"display","flex","align-items","center","justify-content","center","margin","300px 0"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],["class","table",4,"ngIf","ngIfElse"],[1,"table"],[4,"ngFor","ngForOf"],["scope","row",1,"student-count"],[1,"student-course","text-primary"],[1,"student-name"],[1,"registered-status"],["class","badge rounded-pill bg-primary float-end",4,"ngIf","ngIfElse"],["registeredStatus",""],[1,"badge","rounded-pill","bg-primary","float-end"],[1,"badge","rounded-pill","bg-danger","float-end"],[3,"message"]],template:function(s,r){if(1&s&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"h2"),t._uU(3),t.qZA(),t.TgZ(4,"div",2),t.YNc(5,N,2,1,"button",3),t.qZA(),t.qZA(),t.TgZ(6,"div",4),t._UZ(7,"app-event-card-edit",5),t.TgZ(8,"div",6),t.TgZ(9,"div",7),t.TgZ(10,"h5",8),t._uU(11,"Attendance"),t.qZA(),t.TgZ(12,"div",9),t.TgZ(13,"span",10),t._uU(14),t.qZA(),t.TgZ(15,"span",11),t._uU(16),t.qZA(),t.TgZ(17,"span",12),t._uU(18),t.qZA(),t.qZA(),t.qZA(),t.TgZ(19,"div",13),t.YNc(20,Q,4,0,"div",14),t.YNc(21,U,1,2,"ng-template",null,15,t.W1O),t.YNc(23,Y,1,2,"ng-template",null,16,t.W1O),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&s){const d=t.MAs(22);t.xp6(3),t.Oqu(r.isEventEditable?"Edit Event":"View Event"),t.xp6(2),t.Q6J("ngIf",r.isEventEditable),t.xp6(2),t.Q6J("activeEventUUID",r.uuid)("isEventOngoing",r.isEventOngoing)("isEventEditable",r.isEventEditable),t.xp6(7),t.hij("Present - ",r.analytics.attendees,""),t.xp6(2),t.hij("Absent - ",r.isEventOngoing?r.analytics.registered-r.analytics.attendees:0,""),t.xp6(2),t.hij("Registered - ",r.analytics.registered,""),t.xp6(2),t.Q6J("ngIf",r.isGettingRegisteredStudents)("ngIfElse",d)}},directives:[u.O5,P.x,u.sg,R.s],styles:["#event-details-body[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;height:100%}.gs-cards-body[_ngcontent-%COMP%]{--spacing: 32px;display:inline-flex;flex-direction:row;gap:var(--spacing);height:100%;overflow-x:scroll;padding:var(--spacing)}.attendance-card[_ngcontent-%COMP%]{--spacing: 24px;min-width:min-content}.attendance-card[_ngcontent-%COMP%]   .gs-card-header[_ngcontent-%COMP%]{padding-left:var(--spacing);padding-right:var(--spacing)}.attendance-card[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .attendance-card[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{white-space:nowrap}.attendance-card[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   td.student-course[_ngcontent-%COMP%]{width:100px}.attendance-card[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child, .attendance-card[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{padding-left:var(--spacing)}.attendance-card[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child, .attendance-card[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{padding-right:var(--spacing)}.attendance-card[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   th.student-count[_ngcontent-%COMP%]{width:0;padding-right:var(--spacing)}"]}),l})()},{path:"dashboard",loadChildren:()=>v.e(158).then(v.bind(v,8158)).then(l=>l.DashboardModule)},{path:"dashboard/:uuid",component:M},{path:"profile",loadChildren:()=>v.e(58).then(v.bind(v,3058)).then(l=>l.ProfileModule)}]}];let K=(()=>{class l{}return l.\u0275fac=function(s){return new(s||l)},l.\u0275mod=t.oAB({type:l}),l.\u0275inj=t.cJS({imports:[[e.Bz.forChild(z)],e.Bz]}),l})(),V=(()=>{class l{}return l.\u0275fac=function(s){return new(s||l)},l.\u0275mod=t.oAB({type:l}),l.\u0275inj=t.cJS({imports:[[u.ez,K]]}),l})()},2159:(O,x,v)=>{v.d(x,{s:()=>e});var u=v(1223);let e=(()=>{class p{constructor(){this.message={title:"Title",message:"Message"}}ngOnInit(){}}return p.\u0275fac=function(E){return new(E||p)},p.\u0275cmp=u.Xpm({type:p,selectors:[["app-empty-state"]],inputs:{message:"message"},decls:4,vars:2,consts:[["id","empty-title",1,"text-center","mb-3"],["id","empty-message",1,"text-center","text-muted"]],template:function(E,t){1&E&&(u.TgZ(0,"h2",0),u._uU(1),u.qZA(),u.TgZ(2,"p",1),u._uU(3),u.qZA()),2&E&&(u.xp6(1),u.Oqu(t.message.title),u.xp6(2),u.hij(" ",t.message.message,"\n"))},styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%;padding:48px}"]}),p})()},7796:(O,x,v)=>{v.d(x,{x:()=>ie});var u=v(5861),e=v(1223),p=v(2382),f=v(2033),E=v(4012),t=v(9808),b=v(968),A=v(555),q=v(8118),D=v(2152),w=v(7899),M=v(3189);const P=["uploadEventPosterButton"];function R(a,h){if(1&a&&(e.ynx(0),e.TgZ(1,"div",77),e.TgZ(2,"button",78),e.TgZ(3,"span",79),e._uU(4,"Generate Beginning QR Code..."),e.qZA(),e._uU(5," Generate QR Code... "),e.qZA(),e.qZA(),e.BQk()),2&a){const n=e.oxw(2);e.xp6(2),e.Q6J("disabled",!n.isEventOngoing)}}function N(a,h){if(1&a){const n=e.EpF();e.TgZ(0,"span",81),e.NdJ("click",function(){e.CHM(n);const o=e.oxw().$implicit;return e.oxw(2).addRemoveDepartment(o)}),e._uU(1),e._UZ(2,"i",82),e.qZA()}if(2&a){const n=e.oxw().$implicit;e.xp6(1),e.hij(" ",n.department_code," ")}}function Q(a,h){if(1&a&&(e.ynx(0),e.YNc(1,N,3,1,"span",80),e.BQk()),2&a){const n=h.$implicit;e.xp6(1),e.Q6J("ngIf",n)}}function F(a,h){if(1&a){const n=e.EpF();e.TgZ(0,"label",88),e.TgZ(1,"li",89),e._uU(2),e.TgZ(3,"input",90),e.NdJ("change",function(){const c=e.CHM(n).$implicit;return e.oxw(3).addRemoveDepartment(c)}),e.qZA(),e.qZA(),e.qZA()}if(2&a){const n=h.$implicit,i=e.oxw(3);e.xp6(2),e.hij(" ",n.department_code," "),e.xp6(1),e.Q6J("checked",i.chosenDepartments.includes(n))}}function L(a,h){if(1&a&&(e.TgZ(0,"span",83),e.TgZ(1,"button",84),e._UZ(2,"i",85),e.qZA(),e.TgZ(3,"ul",86),e.YNc(4,F,4,2,"label",87),e.qZA(),e.qZA()),2&a){const n=e.oxw(2);e.xp6(4),e.Q6J("ngForOf",n.departments)}}function J(a,h){if(1&a&&(e.TgZ(0,"span",91),e._uU(1),e._UZ(2,"i",82),e.qZA()),2&a){const n=h.$implicit;e.xp6(1),e.hij(" ",n.speaker_name," ")}}function B(a,h){if(1&a&&(e.TgZ(0,"span",83),e.TgZ(1,"button",92),e._UZ(2,"i",85),e.qZA(),e.qZA()),2&a){const n=e.oxw(2);e.xp6(1),e.uIk("data-bs-target","#speakers-modal"+n.eventIndex)}}const U=function(a){return{"is-invalid":a}};function H(a,h){if(1&a&&(e.TgZ(0,"form",57),e.TgZ(1,"div"),e.TgZ(2,"label",45),e._uU(3,"Title"),e.qZA(),e._UZ(4,"input",58),e.qZA(),e.TgZ(5,"div"),e.TgZ(6,"label",45),e._uU(7,"Description"),e.qZA(),e._UZ(8,"textarea",59),e.qZA(),e.TgZ(9,"button",60),e._uU(10,"Add Event Poster"),e.qZA(),e.TgZ(11,"div",61),e.TgZ(12,"div",62),e.TgZ(13,"label",45),e._uU(14,"Date"),e.qZA(),e._UZ(15,"input",63),e.qZA(),e.TgZ(16,"div",64),e.TgZ(17,"label",45),e._uU(18,"Time"),e.qZA(),e.TgZ(19,"div",65),e._UZ(20,"input",66),e._uU(21," \u2014 "),e._UZ(22,"input",67),e.qZA(),e.qZA(),e.qZA(),e.TgZ(23,"div",61),e.TgZ(24,"div",62),e.TgZ(25,"label",45),e._uU(26,"Seminar hours"),e.qZA(),e._UZ(27,"input",68),e.qZA(),e.TgZ(28,"div",64),e.TgZ(29,"label",45),e._uU(30,"QR Code Extent"),e.qZA(),e.TgZ(31,"select",69),e.TgZ(32,"option",70),e._uU(33,"Beginning only"),e.qZA(),e.TgZ(34,"option",71),e._uU(35,"Beginning and end"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.YNc(36,R,6,1,"ng-container",26),e._UZ(37,"hr"),e.TgZ(38,"div"),e.TgZ(39,"label",45),e._uU(40,"Invited Departments"),e.qZA(),e.TgZ(41,"span",72),e.TgZ(42,"span",73),e.YNc(43,Q,2,1,"ng-container",43),e.qZA(),e.YNc(44,L,5,1,"span",74),e.qZA(),e.qZA(),e.TgZ(45,"div"),e.TgZ(46,"label",45),e._uU(47,"Speakers"),e.qZA(),e.TgZ(48,"span",72),e.TgZ(49,"span",73),e.YNc(50,J,3,1,"span",75),e.qZA(),e.YNc(51,B,3,1,"span",74),e.qZA(),e.qZA(),e.TgZ(52,"div"),e.TgZ(53,"label",45),e._uU(54,"Registration Form"),e.qZA(),e._UZ(55,"input",76),e.qZA(),e.qZA()),2&a){const n=e.oxw();e.Q6J("formGroup",n.eventForm),e.xp6(2),e.uIk("for","event-title"+n.eventIndex),e.xp6(2),e.uIk("id","event-title"+n.eventIndex),e.xp6(2),e.uIk("for","event-description"+n.eventIndex),e.xp6(2),e.uIk("id","event-description"+n.eventIndex),e.xp6(1),e.Q6J("disabled",!n.isEventEditable),e.uIk("data-bs-target","#uploadEventPosterModal"+n.eventIndex),e.xp6(4),e.uIk("for","event-date"+n.eventIndex),e.xp6(2),e.Q6J("ngClass",e.VKq(33,U,(null==n.eventForm||null==n.eventForm.errors?null:n.eventForm.errors.previousDateTime)&&n.isEventEditable)),e.uIk("id","event-date"+n.eventIndex),e.xp6(2),e.uIk("for","event-start-time"+n.eventIndex),e.xp6(3),e.Q6J("ngClass",e.VKq(35,U,((null==n.eventStartTime?null:n.eventStartTime.errors)||(null==n.eventForm||null==n.eventForm.errors?null:n.eventForm.errors.invertedTimeRange)||(null==n.eventForm||null==n.eventForm.errors?null:n.eventForm.errors.previousDateTime))&&n.isEventEditable)),e.uIk("id","event-start-time"+n.eventIndex),e.xp6(2),e.Q6J("ngClass",e.VKq(37,U,((null==n.eventEndTime?null:n.eventEndTime.errors)||(null==n.eventForm||null==n.eventForm.errors?null:n.eventForm.errors.invertedTimeRange)||(null==n.eventForm||null==n.eventForm.errors?null:n.eventForm.errors.previousDateTime))&&n.isEventEditable)),e.uIk("id","event-end-time"+n.eventIndex),e.xp6(3),e.uIk("for","event-seminar-hours"+n.eventIndex),e.xp6(2),e.Q6J("ngClass",e.VKq(39,U,null==n.eventSeminarHours?null:n.eventSeminarHours.errors)),e.uIk("id","event-seminar-hours"+n.eventIndex),e.xp6(2),e.uIk("for","event-qr-extent"+n.eventIndex),e.xp6(2),e.uIk("id","event-qr-extent"+n.eventIndex),e.xp6(1),e.Q6J("ngValue",!1),e.xp6(2),e.Q6J("ngValue",!0),e.xp6(2),e.Q6J("ngIf","/home/create-event"!==n.url),e.xp6(3),e.uIk("for","event-invited-departments"+n.eventIndex),e.xp6(2),e.uIk("id","event-invited-departments"+n.eventIndex),e.xp6(2),e.Q6J("ngForOf",n.chosenDepartments),e.xp6(1),e.Q6J("ngIf",n.isEventEditable),e.xp6(2),e.uIk("for","event-speakers"+n.eventIndex),e.xp6(2),e.uIk("id","event-speakers"+n.eventIndex),e.xp6(2),e.Q6J("ngForOf",n.savedSpeakers),e.xp6(1),e.Q6J("ngIf",n.isEventEditable),e.xp6(2),e.uIk("for","event-registration-form"+n.eventIndex),e.xp6(2),e.uIk("id","event-registration-form"+n.eventIndex)}}function G(a,h){1&a&&(e.O4$(),e.TgZ(0,"svg",101),e._UZ(1,"rect",102),e.qZA())}function Y(a,h){if(1&a&&e._UZ(0,"img",103),2&a){const n=e.oxw(2);e.s9C("src",n.event.event_poster_link,e.LSH)}}function W(a,h){if(1&a&&(e.ynx(0),e.TgZ(1,"span",104),e._uU(2),e.qZA(),e.BQk()),2&a){const n=h.$implicit;e.xp6(2),e.Oqu(null==n?null:n.department_code)}}function $(a,h){if(1&a&&(e.ynx(0),e.TgZ(1,"span",104),e._uU(2),e.qZA(),e.BQk()),2&a){const n=h.$implicit;e.xp6(2),e.Oqu(n.speaker_name)}}const z=function(a){return{"pe-none":a}};function K(a,h){if(1&a&&(e.TgZ(0,"div",93),e.TgZ(1,"div",94),e.TgZ(2,"p",18),e._uU(3,"View full event poster"),e.qZA(),e.YNc(4,G,2,0,"svg",19),e.YNc(5,Y,1,1,"ng-template",null,20,e.W1O),e.qZA(),e.TgZ(7,"h2",95),e._uU(8),e.qZA(),e.TgZ(9,"p",96),e._uU(10),e.ALo(11,"date"),e.ALo(12,"date"),e.ALo(13,"date"),e.qZA(),e._UZ(14,"div",97),e.TgZ(15,"p",98),e._uU(16),e.qZA(),e.TgZ(17,"h6"),e._uU(18,"Invited Departments"),e.qZA(),e.TgZ(19,"div",99),e.YNc(20,W,3,1,"ng-container",43),e.qZA(),e.TgZ(21,"h6"),e._uU(22,"Speakers"),e.qZA(),e.TgZ(23,"div",100),e.YNc(24,$,3,1,"ng-container",43),e.qZA(),e.qZA()),2&a){const n=e.MAs(6),i=e.oxw();e.xp6(1),e.Q6J("ngClass",e.VKq(20,z,0===i.event.event_poster_link.length)),e.uIk("data-bs-target","#viewFullEventPosterModal"+i.eventIndex),e.xp6(3),e.Q6J("ngIf",0===i.event.event_poster_link.length)("ngIfElse",n),e.xp6(4),e.Oqu(i.event.event_title||"Lorem Ipsum"),e.xp6(2),e.lnq("",e.xi3(11,11,i.event.event_start_date,"mediumDate")," - ",e.xi3(12,14,i.event.event_start_date,"shortTime")," to ",e.xi3(13,17,i.event.event_end_date,"shortTime")," "),e.xp6(6),e.hij("",i.event.event_description||"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua."," "),e.xp6(4),e.Q6J("ngForOf",i.event.departments),e.xp6(4),e.Q6J("ngForOf",i.event.speakers)}}function V(a,h){if(1&a){const n=e.EpF();e.ynx(0),e.TgZ(1,"button",5),e.NdJ("click",function(){return e.CHM(n),e.oxw().duplicateEvent()}),e._UZ(2,"i",105),e.qZA(),e.TgZ(3,"button",5),e.NdJ("click",function(){return e.CHM(n),e.oxw().clearEvent()}),e._UZ(4,"i",106),e.qZA(),e.TgZ(5,"button",107),e.NdJ("click",function(){return e.CHM(n),e.oxw().deleteEvent()}),e._UZ(6,"i",108),e.qZA(),e.BQk()}if(2&a){const n=e.oxw();e.xp6(5),e.Q6J("disabled",1===n.totalEvents)}}function l(a,h){if(1&a){const n=e.EpF();e.TgZ(0,"button",109),e.NdJ("click",function(){return e.CHM(n),e.oxw().revertEvent()}),e._UZ(1,"i",110),e.qZA()}if(2&a){const n=e.oxw();e.Q6J("disabled",!n.eventForm.dirty)}}function Z(a,h){1&a&&(e.O4$(),e.TgZ(0,"svg",101),e._UZ(1,"rect",102),e.qZA())}function s(a,h){if(1&a&&e._UZ(0,"img",103),2&a){const n=e.oxw();e.s9C("src",n.event.event_poster_link,e.LSH)}}function r(a,h){if(1&a){const n=e.EpF();e.TgZ(0,"button",129),e.NdJ("click",function(){e.CHM(n);const o=e.oxw(2);return o.generateBeginQRCode(o.activeEventUUID)}),e._uU(1," Generate Beginning QR Code "),e._UZ(2,"app-loading-spinner",130),e.qZA()}if(2&a){const n=e.oxw(2);e.Q6J("disabled",n.isBeginningQRCodeGenerating),e.xp6(2),e.Q6J("showSpinner",n.isBeginningQRCodeGenerating)}}function d(a,h){if(1&a){const n=e.EpF();e.TgZ(0,"button",129),e.NdJ("click",function(){e.CHM(n);const o=e.oxw(2);return o.generateEndQRCode(o.activeEventUUID)}),e._uU(1," Generate End QR Code "),e._UZ(2,"app-loading-spinner",130),e.qZA()}if(2&a){const n=e.oxw(2);e.Q6J("disabled",n.isEndQRCodeGenerating),e.xp6(2),e.Q6J("showSpinner",n.isEndQRCodeGenerating)}}function m(a,h){if(1&a){const n=e.EpF();e.ynx(0),e.TgZ(1,"div",111),e.TgZ(2,"div",11),e.TgZ(3,"div",12),e.TgZ(4,"div",13),e.TgZ(5,"h5",14),e._uU(6,"Generate QR Code"),e.qZA(),e._UZ(7,"button",15),e.qZA(),e.TgZ(8,"div",112),e.TgZ(9,"div",113),e.TgZ(10,"div",114),e.TgZ(11,"div",115),e.TgZ(12,"div",116),e.TgZ(13,"span",117,118),e._uU(15),e.qZA(),e.TgZ(16,"input",119,120),e.NdJ("input",function(){e.CHM(n);const o=e.MAs(14),c=e.MAs(17);return o.innerText=c.value}),e.qZA(),e.qZA(),e.TgZ(18,"p",121),e._uU(19,"min"),e.qZA(),e.qZA(),e.YNc(20,r,3,2,"button",122),e.YNc(21,d,3,2,"button",122),e.qZA(),e.TgZ(22,"div",123),e.TgZ(23,"label",124),e._uU(24,"Beginning"),e.qZA(),e._UZ(25,"input",125),e.TgZ(26,"button",126),e._UZ(27,"i",127),e.qZA(),e.qZA(),e.TgZ(28,"div",123),e.TgZ(29,"label",124),e._uU(30,"End"),e.qZA(),e._UZ(31,"input",125),e.TgZ(32,"button",128),e._UZ(33,"i",127),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.BQk()}if(2&a){const n=e.MAs(17),i=e.oxw();e.xp6(15),e.Oqu(n.value),e.xp6(5),e.Q6J("ngIf",!i.isBeginningQRCodeGenerated),e.xp6(1),e.Q6J("ngIf",!i.isEndQRCodeGenerated&&i.isBeginningQRCodeGenerated),e.xp6(4),e.s9C("value",i.beginQRCodeLink),e.xp6(6),e.s9C("value",i.endQRCodeLink)}}function g(a,h){if(1&a){const n=e.EpF();e.TgZ(0,"button",140),e.NdJ("click",function(){e.CHM(n);const o=e.oxw().$implicit;return e.oxw().addSpeaker(o)}),e._uU(1," Add "),e.qZA()}}function C(a,h){if(1&a){const n=e.EpF();e.TgZ(0,"button",141),e.NdJ("click",function(){e.CHM(n);const o=e.oxw().$implicit;return e.oxw().removeSpeakerFromChosen(o)}),e._uU(1," Remove "),e.qZA()}}function I(a,h){if(1&a&&(e.ynx(0),e.TgZ(1,"li",131),e.TgZ(2,"div",132),e._UZ(3,"div",133),e.TgZ(4,"div",134),e.TgZ(5,"p",135),e._uU(6),e.qZA(),e.TgZ(7,"p",136),e._uU(8),e.qZA(),e.qZA(),e.TgZ(9,"div",137),e.YNc(10,g,2,0,"button",138),e.YNc(11,C,2,0,"button",139),e.qZA(),e.qZA(),e.qZA(),e.BQk()),2&a){const n=h.$implicit;e.xp6(6),e.Oqu(n.speaker_name),e.xp6(2),e.Oqu(n.speaker_email),e.xp6(2),e.Q6J("ngIf",!n.speaker_is_added),e.xp6(1),e.Q6J("ngIf",n.speaker_is_added)}}function j(a,h){1&a&&(e.TgZ(0,"div",142),e._uU(1," Full name is required "),e.qZA())}function X(a,h){1&a&&(e.TgZ(0,"div",142),e._uU(1," Email is required "),e.qZA())}function ee(a,h){1&a&&(e.TgZ(0,"div",142),e._uU(1," Invalid Email "),e.qZA())}function te(a,h){if(1&a&&(e.TgZ(0,"span",143),e.YNc(1,X,2,0,"div",47),e.YNc(2,ee,2,0,"div",47),e.qZA()),2&a){const n=e.oxw();e.xp6(1),e.Q6J("ngIf",null==n.speakerEmail||null==n.speakerEmail.errors?null:n.speakerEmail.errors.required),e.xp6(1),e.Q6J("ngIf",null==n.speakerEmail||null==n.speakerEmail.errors?null:n.speakerEmail.errors.email)}}function ne(a,h){1&a&&(e.TgZ(0,"div",142),e._uU(1," Description is required "),e.qZA())}let ie=(()=>{class a{constructor(n,i,o,c){this.locationStrategy=n,this.dataService=i,this.userService=o,this.router=c,this.url=this.router.url,this.eventIndex=0,this.activeEventUUID="",this.onDelete=new e.vpe,this.onDuplicate=new e.vpe,this.searchText="",this.event={departments:[],event_description:"",event_end_date:"",event_id:0,event_start_date:"",event_title:"",event_uuid:"",is_attendance_strict:!0,registration_link:"",seminar_hours:0,speakers:[],timezone_id:"",event_poster_link:""},this.departments=[],this.chosenDepartments=[],this.speakers=[],this.chosenSpeakers=[],this.savedSpeakers=[],this.isBeginningQRCodeGenerating=!1,this.isEndQRCodeGenerating=!1,this.isBeginningQRCodeGenerated=!1,this.isEndQRCodeGenerated=!1,this.endQRCodeLink="",this.beginQRCodeLink="",this.speakerForm=new p.cw({speakerName:new p.NI("",[p.kI.required]),speakerEmail:new p.NI("",[p.kI.required,p.kI.email]),speakerDescription:new p.NI("",[p.kI.required])}),this.searchSpeakerForm=new p.cw({search:new p.NI("")}),this.chosenDepartmentsList="",this.chosenSpeakersList="",this.isEventPreviewShown=!1,this.speakers=this.userService.getSpeakers(),this.departments=this.userService.getDepartments(),console.log("departments: "+this.departments),console.log("speakers: "+this.speakers),this.event.departments=this.chosenDepartments,this.event.speakers=this.chosenSpeakers}get eventPoster(){return this.eventForm.get("eventPoster")}get eventName(){return this.eventForm.get("eventName")}get eventDetails(){return this.eventForm.get("eventDetails")}get eventDate(){return this.eventForm.get("eventDate")}get eventStartTime(){return this.eventForm.get("eventStartTime")}get eventEndTime(){return this.eventForm.get("eventEndTime")}get eventEventIsStrict(){return this.eventForm.get("eventIsStrict")}get eventSpeakers(){return this.eventForm.get("eventSpeakers")}get eventRegistrationForm(){return this.eventForm.get("eventRegistrationForm")}get eventSeminarHours(){return this.eventForm.get("eventSeminarHours")}get speakerName(){return this.speakerForm.get("speakerName")}get speakerEmail(){return this.speakerForm.get("speakerEmail")}get speakerDescription(){return this.speakerForm.get("speakerDescription")}ngOnInit(){this.initializeEventForm(),this.subscribeEventForm(),this.duplicateEventData(),this.userService.isBeginningQrGenerated(this.activeEventUUID)&&(this.isBeginningQRCodeGenerated=!0,this.beginQRCodeLink=this.userService.getBeginningQrGeneratedLink(this.activeEventUUID)),this.userService.isEndQrGenerated(this.activeEventUUID)&&(this.isEndQRCodeGenerated=!0,this.endQRCodeLink=this.userService.getEndQrGeneratedLink(this.activeEventUUID))}initializeEventForm(){let n=new Date,i="",o="";n=new Date(n.getTime()+864e5),n.getHours()>=20||n.getHours()<=8?(i="16:00",o="17:00"):(i=n.getHours()+":00",o=n.getHours()+1+":00"),this.eventForm=new p.cw({eventPoster:new p.NI,eventName:new p.NI("",[p.kI.required]),eventDetails:new p.NI("",p.kI.required),eventDate:new p.NI(n.toISOString().split("T")[0],[p.kI.required]),eventStartTime:new p.NI(i,[p.kI.required,this.eventStartTimeValidator]),eventEndTime:new p.NI(o,[p.kI.required,this.eventEndTimeValidator]),eventSeminarHours:new p.NI(1,p.kI.min(1)),eventIsStrict:new p.NI(!0),eventInvitedDepartments:new p.NI([],[p.kI.required]),eventSpeakers:new p.NI([],[p.kI.required]),eventRegistrationForm:new p.NI(""),startQrCodeLink:new p.NI(""),endQrCodeLink:new p.NI("")},{validators:[this.eventDateTimeValidator]})}subscribeEventForm(){this.eventForm.valueChanges.subscribe(()=>{var n,i,o,c,_,T,k,y,S;this.event.event_title=null===(n=this.eventForm.get("eventName"))||void 0===n?void 0:n.value,this.event.event_description=null===(i=this.eventForm.get("eventDetails"))||void 0===i?void 0:i.value,this.event.event_start_date=(null===(o=this.eventForm.get("eventDate"))||void 0===o?void 0:o.value)+"T"+(null===(c=this.eventForm.get("eventStartTime"))||void 0===c?void 0:c.value)+":00",this.event.event_end_date=(null===(_=this.eventForm.get("eventDate"))||void 0===_?void 0:_.value)+"T"+(null===(T=this.eventForm.get("eventEndTime"))||void 0===T?void 0:T.value)+":00",this.event.timezone_id="Asia/Manila",this.event.seminar_hours=null===(k=this.eventForm.get("eventSeminarHours"))||void 0===k?void 0:k.value,this.event.is_attendance_strict=null===(y=this.eventForm.get("eventIsStrict"))||void 0===y?void 0:y.value,this.event.speakers=this.savedSpeakers,this.event.departments=this.chosenDepartments,this.event.registration_link=null===(S=this.eventForm.get("eventRegistrationForm"))||void 0===S?void 0:S.value}),this.searchSpeakerForm.valueChanges.subscribe(()=>{var n;this.searchText=null===(n=this.searchSpeakerForm.get("search"))||void 0===n?void 0:n.value})}duplicateEventData(){if(void 0!==this.duplicatedEventData&&void 0!==this.duplicatedEventData.eventForm){let n=this.duplicatedEventData.eventForm;this.eventForm.patchValue({eventName:n.controls.eventName.value,eventDetails:n.controls.eventDetails.value,eventDate:n.controls.eventDate.value,eventStartTime:n.controls.eventStartTime.value,eventEndTime:n.controls.eventEndTime.value,eventSeminarHours:n.controls.eventSeminarHours.value,eventIsStrict:n.controls.eventIsStrict.value,eventInvitedDepartments:n.controls.eventInvitedDepartments.value,eventSpeakers:n.controls.eventSpeakers.value,eventRegistrationForm:n.controls.eventRegistrationForm.value}),this.event.event_poster_link=this.duplicatedEventData.event_poster_link;let i=n.controls.eventInvitedDepartments.value,o=n.controls.eventSpeakers.value;this.savedSpeakers=o;for(let c of this.departments)for(let _ of i)void 0!==_&&c.department_id==_.department_id&&(this.chosenDepartments[_.department_id-1]=this.departments[c.department_id-1]);for(let c of this.speakers)for(let _ of o)c.speaker_id==_.speaker_id&&(c.speaker_is_added=!0)}}addSpeaker(n){n.speaker_is_added=!0,this.chosenSpeakers.push(n),console.log(this.chosenSpeakers)}removeSpeakerFromChosen(n){n.speaker_is_added=!1;const i=this.getSpeakerIndex(n.speaker_id);this.chosenSpeakers.splice(i,1),console.log(this.chosenSpeakers)}getSpeakerIndex(n){let i=0;for(let o of this.chosenSpeakers)if(o.speaker_id!=n&&i++,o.speaker_id==n)break;return i}onNativeChange(n,i){n.target.checked&&(console.log("added "+i.department_id),this.addChosenDepartment(i)),n.target.checked||(console.log("removed "+i.department_id),this.removeDepartmentFromChosen(i));let o=[];this.chosenDepartmentsList="";for(let c in this.chosenDepartments)this.chosenDepartments.hasOwnProperty(c)&&(o.push(this.chosenDepartments[c].department_code),this.chosenDepartmentsList=o.join(", "));this.printChosenDepartment()}addRemoveDepartment(n){this.chosenDepartments.includes(n)?delete this.chosenDepartments[n.department_id-1]:this.chosenDepartments[n.department_id-1]=n,this.eventForm.controls.eventInvitedDepartments.patchValue(this.chosenDepartments),this.printChosenDepartment()}printChosenDepartment(){console.log(this.chosenDepartments)}removeDepartmentFromChosen(n){const i=this.getDepartmentIndex(n.department_id);this.chosenDepartments.splice(i,1)}getDepartmentIndex(n){let i=0;for(let o of this.chosenDepartments)if(o.department_id!=n&&i++,o.department_id==n)break;return i}addChosenDepartment(n){this.chosenDepartments.push(n)}addNewSpeaker(){var n=this;const i={speaker_id:0,speaker_name:this.speakerForm.controls.speakerName.value,speaker_description:this.speakerForm.controls.speakerDescription.value,speaker_email:this.speakerForm.controls.speakerEmail.value,speaker_is_added:!1},o=new f.K;o.Body=i,o.EndPoint="speaker",o.RequestType=E.l.POST_REQUIRES_AUTHENTICATION,o.AuthToken=this.userService.HttpOptions,this.dataService.httpRequest(o).subscribe(function(){var c=(0,u.Z)(function*(_){n.speaker=_,n.updateSpeakers(),n.setSpeakers()});return function(_){return c.apply(this,arguments)}}()),this.speakerForm.reset()}saveSpeaker(){this.savedSpeakers=[...this.chosenSpeakers],this.eventForm.controls.eventSpeakers.patchValue(this.savedSpeakers)}resetSpeakerModal(){this.chosenSpeakers=[...this.savedSpeakers]}setSpeakers(){this.speakers=this.userService.getSpeakers()}updateSpeakers(){var n=this;const i=new f.K;i.EndPoint="speakers",i.RequestType=E.l.GET_REQUIRES_AUTHENTICATION,i.AuthToken=this.userService.HttpOptions,this.dataService.httpRequest(i).subscribe(function(){var o=(0,u.Z)(function*(c){n.speakers=c,yield n.userService.updateSpeakers(JSON.stringify(c)),console.log(c)});return function(c){return o.apply(this,arguments)}}()),console.log(this.speakers)}generateBeginQRCodeLink(n){var i=this;let o;this.isBeginningQRCodeGenerating=!0;const c=new f.K;c.EndPoint=`event/attendance/${n}`,c.RequestType=E.l.GET_REQUIRES_AUTHENTICATION,c.AuthToken=this.userService.HttpOptions,this.dataService.httpRequest(c).subscribe(function(){var _=(0,u.Z)(function*(T){o=T,yield console.log(T),i.beginQRCodeLink=location.origin+i.locationStrategy.getBaseHref()+"qr-code/"+o.event_uuid+"/"+o.attendance_code+"/"+i.event.event_title,i.isBeginningQRCodeGenerated=!0,yield i.userService.addBeginningQrLink(n,i.beginQRCodeLink,i.getEventEndTime(i.event.event_end_date)),i.isBeginningQRCodeGenerating=!1});return function(T){return _.apply(this,arguments)}}(),_=>{this.dataService.handleError(_),this.isBeginningQRCodeGenerating=!1})}generateEndQRCodeLink(n){var i=this;let o;this.isEndQRCodeGenerating=!0;const c=new f.K;c.EndPoint=`event/attendance/${n}`,c.RequestType=E.l.GET_REQUIRES_AUTHENTICATION,c.AuthToken=this.userService.HttpOptions,this.dataService.httpRequest(c).subscribe(function(){var _=(0,u.Z)(function*(T){o=T,yield console.log(T),i.endQRCodeLink=location.origin+i.locationStrategy.getBaseHref()+"qr-code/"+o.event_uuid+"/"+o.attendance_code+"/"+i.event.event_title,yield i.userService.addEndQrLink(n,i.endQRCodeLink,i.getEventEndTime(i.event.event_end_date)),i.isEndQRCodeGenerated=!0,i.isEndQRCodeGenerating=!1});return function(T){return _.apply(this,arguments)}}(),_=>{this.dataService.handleError(_),this.isEndQRCodeGenerating=!1})}generateBeginQRCode(n){var i=this;const o={event_uuid:n},c=new f.K;c.EndPoint="event/attendance/beginning",c.RequestType=E.l.POST_REQUIRES_AUTHENTICATION,c.Body=o,c.AuthToken=this.userService.HttpOptions,this.dataService.httpRequest(c).subscribe(function(){var _=(0,u.Z)(function*(T){yield console.log(T),yield i.generateBeginQRCodeLink(n),yield alert("Beginning QR code generated")});return function(T){return _.apply(this,arguments)}}(),_=>{this.dataService.handleError(_)})}generateEndQRCode(n){var i=this;const o={event_uuid:n},c=new f.K;c.EndPoint="event/attendance/end",c.RequestType=E.l.POST_REQUIRES_AUTHENTICATION,c.Body=o,c.AuthToken=this.userService.HttpOptions,this.dataService.httpRequest(c).subscribe(function(){var _=(0,u.Z)(function*(T){yield console.log(T),yield i.generateEndQRCodeLink(n),yield alert("End QR code generated")});return function(T){return _.apply(this,arguments)}}(),_=>{this.dataService.handleError(_)})}uploadEventPoster(){this.uploadEventPosterButton.nativeElement.click()}onFileChange(n){var o,c,i=this;const _=new FormData;if(n.target.files.length>0&&(this.eventForm.patchValue({eventPoster:n.target.files[0]}),console.log(null===(o=this.eventForm.get("eventPoster"))||void 0===o?void 0:o.value),_.append("file",null===(c=this.eventForm.get("eventPoster"))||void 0===c?void 0:c.value),_)){const k=new f.K;k.EndPoint="event/upload",k.RequestType=E.l.POST_REQUIRES_AUTHENTICATION,k.Body=_,k.AuthToken=this.userService.FormHttpOptions,this.dataService.httpRequest(k).subscribe(function(){var y=(0,u.Z)(function*(S){console.log("Image data:"),yield console.log(S),i.event.event_poster_link=S.link});return function(S){return y.apply(this,arguments)}}(),y=>{this.dataService.handleError(y)})}}getEventEndTime(n){const o=n.split("[")[0].toString();return new Date(o)}eventDateTimeValidator(n){var i,o,c,_;let T={};const k=new Date((null===(i=n.get("eventDate"))||void 0===i?void 0:i.value)+" "+(null===(o=n.get("eventStartTime"))||void 0===o?void 0:o.value));return(null===(c=n.get("eventStartTime"))||void 0===c?void 0:c.value)>=(null===(_=n.get("eventEndTime"))||void 0===_?void 0:_.value)&&(T.invertedTimeRange=!0),k<new Date&&(T.previousDateTime=!0),0!==Object.keys(T).length?T:null}eventStartTimeValidator(n){const i=n.value;return i>="08:00"&&i<="20:00"?null:{outsideSchoolHours:!0}}eventEndTimeValidator(n){const i=n.value;return i>="08:00"&&i<="20:00"?null:{outsideSchoolHours:!0}}toggleEventPreview(){this.isEventPreviewShown=!this.isEventPreviewShown}duplicateEvent(){this.onDuplicate.emit(this.eventIndex)}clearEvent(){this.initializeEventForm()}deleteEvent(){this.onDelete.emit(this.eventIndex)}revertEvent(){console.log(this.initialEventForm),this.eventForm.reset(this.initialEventForm)}}return a.\u0275fac=function(n){return new(n||a)(e.Y36(t.S$),e.Y36(b.D),e.Y36(A.K),e.Y36(q.F0))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-event-card-edit"]],viewQuery:function(n,i){if(1&n&&e.Gf(P,5),2&n){let o;e.iGM(o=e.CRH())&&(i.uploadEventPosterButton=o.first)}},inputs:{isEventOngoing:"isEventOngoing",isEventEditable:"isEventEditable",eventIndex:"eventIndex",activeEventUUID:"activeEventUUID",duplicatedEventData:"duplicatedEventData",totalEvents:"totalEvents"},outputs:{onDelete:"onDelete",onDuplicate:"onDuplicate"},decls:87,vars:27,consts:[[1,"gs-card"],["class","gs-card-content vstack gap-3",3,"formGroup",4,"ngIf","ngIfElse"],["eventPreview",""],[1,"gs-card-footer"],[1,"hstack","gap-1"],[1,"btn","btn-sm","btn-primary",3,"click"],[1,"bi","bi-image"],[1,"ms-auto","hstack","gap-1"],[4,"ngIf","ngIfElse"],["editEventButtons",""],["tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header","border-0","p-4","pb-1"],["id","exampleModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body","p-4"],["id","event-poster",1,"user-select-none","no-hover","mb-4",3,"click"],[1,"upload-event-poster-text","text-center"],["id","event-poster-img",4,"ngIf","ngIfElse"],["eventPoster",""],["type","file","accept","image/png, image/jpeg",3,"change"],["uploadEventPosterButton",""],[1,"input-group","input-group-sm"],["type","text","placeholder","Enter Image URL",1,"form-control"],["type","button",1,"btn","btn-primary"],[4,"ngIf"],[3,"id","eventPosterLink"],["data-bs-keyboard","false","tabindex","-1",1,"modal","fade"],[1,"modal-dialog","modal-fullscreen-sm-down","modal-dialog-centered","modal-dialog-scrollable"],[1,"modal-content",2,"min-height","501px"],[1,"modal-header","border-0","p-4","pb-0"],[1,"modal-title"],["id","speakers-modal-carousel","data-bs-ride","carousel","data-bs-interval","false",1,"carousel","slide"],[1,"carousel-inner"],[1,"carousel-item","active"],["autocomplete","off",1,"vstack","gap-3",3,"formGroup"],[1,"input-group","input-group-sm","mb-4"],["id","inputGroup-sizing-sm",1,"input-group-text"],[1,"bi","bi-search"],["type","text","formControlName","search","placeholder","Search speaker...",1,"form-control"],[1,"mb-2"],[1,"list-group"],[4,"ngFor","ngForOf"],[1,"carousel-item"],[1,"form-label"],["type","text","placeholder","Enter speaker's full name","aria-label","full name","formControlName","speakerName","required","",1,"form-control","form-control-sm"],["class","text-danger text-helper mt-1",4,"ngIf"],["type","email","placeholder","Enter speaker's email address","aria-label","email address","formControlName","speakerEmail","required","",1,"form-control","form-control-sm"],["class","validation-error",4,"ngIf"],["placeholder","Enter speaker's description","formControlName","speakerDescription","rows","3","required","",1,"form-control","form-control-sm"],[1,"d-grid"],["type","button",1,"btn","btn-primary","rounded-pill",3,"disabled","click"],[1,"modal-footer","p-4","py-3","mt-auto"],["type","button","data-bs-target","#speakers-modal-carousel","data-bs-slide","next",1,"btn","btn-sm","btn-outline-primary","rounded-pill","me-auto"],["type","button","data-bs-dismiss","modal",1,"btn","btn-outline-secondary","rounded-pill","btn-sm",3,"click"],["type","button","data-bs-dismiss","modal",1,"btn","btn-primary","rounded-pill","btn-sm","position-relative",3,"click"],[1,"gs-card-content","vstack","gap-3",3,"formGroup"],["type","text","formControlName","eventName","placeholder","Enter event title",1,"form-control","form-control-sm"],["rows","4","formControlName","eventDetails","placeholder","Enter event description",1,"form-control","form-control-sm"],["data-bs-toggle","modal",1,"btn","btn-sm","btn-primary",3,"disabled"],[1,"row","gy-3"],[1,"col-4"],["type","date","formControlName","eventDate",1,"form-control","form-control-sm",3,"ngClass"],[1,"col"],[1,"hstack","gap-2"],["type","time","formControlName","eventStartTime",1,"form-control","form-control-sm",3,"ngClass"],["type","time","formControlName","eventEndTime",1,"form-control","form-control-sm",3,"ngClass"],["type","number","formControlName","eventSeminarHours",1,"form-control","form-control-sm",3,"ngClass"],["aria-label","QR code extent","formControlName","eventIsStrict",1,"form-select","form-select-sm"],[3,"ngValue"],["selected","",3,"ngValue"],[1,"form-control","form-control-sm","form-control-chips"],[1,"input-chips"],["class","input-chip-add",4,"ngIf"],["class","badge bg-primary active user-select-none",4,"ngFor","ngForOf"],["type","text","formControlName","eventRegistrationForm","placeholder","https://forms.gle/...",1,"form-control","form-control-sm"],[1,"btn-group","dropup","w-100"],["type","button","data-bs-toggle","modal","data-bs-target","#generateQRModal",1,"btn","btn-sm","btn-primary","w-100",3,"disabled"],[1,"visually-hidden"],["class","badge bg-primary active user-select-none",3,"click",4,"ngIf"],[1,"badge","bg-primary","active","user-select-none",3,"click"],[1,"bi","bi-check2"],[1,"input-chip-add"],["data-bs-toggle","dropdown","data-bs-auto-close","outside",1,"btn","btn-primary"],[1,"bi","bi-plus-lg"],[1,"dropdown-menu","user-select-none"],["style","display: block; cursor: pointer;",4,"ngFor","ngForOf"],[2,"display","block","cursor","pointer"],[1,"dropdown-item","d-flex","justify-content-between","align-items-center"],["type","checkbox",1,"form-check-input","me-1","mt-0",3,"checked","change"],[1,"badge","bg-primary","active","user-select-none"],["data-bs-toggle","modal",1,"btn","btn-primary"],[1,"gs-card-content","h-100"],["id","event-poster","data-bs-toggle","modal",1,"user-select-none","mb-4",3,"ngClass"],["id","dp-event-title",1,"text-break","mb-0"],["id","dp-event-datetime",1,"text-primary"],[1,"progress","mb-3"],["id","dp-event-description"],[1,"mb-4",2,"display","flex","flex-wrap","wrap","gap","4px"],[2,"display","flex","flex-wrap","wrap","gap","4px"],["id","event-poster-img"],["width","100%","height","100%","fill","var(--bs-primary)"],["id","event-poster-img",3,"src"],[1,"badge","rounded-pill","bg-primary-glass","text-primary"],[1,"bi","bi-clipboard-plus"],[1,"bi","bi-backspace"],[1,"btn","btn-sm","btn-danger",3,"disabled","click"],[1,"bi","bi-trash3"],[1,"btn","btn-sm","btn-primary",3,"disabled","click"],[1,"bi","bi-arrow-counterclockwise"],["id","generateQRModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-body"],[1,"vstack","gap-2","p-2"],[1,"mb-3"],[1,"d-flex","align-items-center","justify-content-center","mb-4"],[1,"auto-size-input-container"],[1,"for-auto-size"],["forAutoSizeInput",""],["type","number","id","qr-expiration","value","5",3,"input"],["qrExpirationTime",""],[1,"ms-1"],["class","btn btn-primary rounded-pill shadow w-100",3,"disabled","click",4,"ngIf"],[1,"input-group","input-group-sm","dropup"],["for","begin-qr-code-link","id","label-begin-qr-code-link",1,"input-group-text"],["type","text","id","begin-qr-code-link","placeholder","no link generated yet...","readonly","",1,"form-control","form-control-sm",3,"value"],["type","button","disabled","","data-bs-toggle","tooltip","data-bs-placement","top",1,"btn","btn-primary"],[1,"bi","bi-link-45deg"],["type","button","disabled","",1,"btn","btn-primary"],[1,"btn","btn-primary","rounded-pill","shadow","w-100",3,"disabled","click"],[3,"showSpinner"],[1,"list-group-item"],[1,"d-flex","align-items-center"],[1,"profile-pic"],[1,"mx-3"],[1,"mb-0",2,"font-size","14px"],[1,"mb-0",2,"font-size","12px","color","var(--primary-color)"],[2,"margin-left","auto"],["type","button","class","btn btn-sm btn-outline-primary rounded-pill",3,"click",4,"ngIf"],["type","button","class","btn btn-sm btn-outline-danger rounded-pill",3,"click",4,"ngIf"],["type","button",1,"btn","btn-sm","btn-outline-primary","rounded-pill",3,"click"],["type","button",1,"btn","btn-sm","btn-outline-danger","rounded-pill",3,"click"],[1,"text-danger","text-helper","mt-1"],[1,"validation-error"]],template:function(n,i){if(1&n&&(e.TgZ(0,"div",0),e.YNc(1,H,56,41,"form",1),e.YNc(2,K,25,22,"ng-template",null,2,e.W1O),e.TgZ(4,"div",3),e.TgZ(5,"div",4),e.TgZ(6,"button",5),e.NdJ("click",function(){return i.toggleEventPreview()}),e._UZ(7,"i",6),e._uU(8," \xa0Preview "),e.qZA(),e.qZA(),e.TgZ(9,"div",7),e.YNc(10,V,7,1,"ng-container",8),e.YNc(11,l,2,1,"ng-template",null,9,e.W1O),e.qZA(),e.qZA(),e.qZA(),e.TgZ(13,"div",10),e.TgZ(14,"div",11),e.TgZ(15,"div",12),e.TgZ(16,"div",13),e.TgZ(17,"h5",14),e._uU(18,"Upload Event Poster"),e.qZA(),e._UZ(19,"button",15),e.qZA(),e.TgZ(20,"div",16),e.TgZ(21,"div",17),e.NdJ("click",function(){return i.uploadEventPoster()}),e.TgZ(22,"p",18),e._uU(23,"Change event poster"),e.qZA(),e.YNc(24,Z,2,0,"svg",19),e.YNc(25,s,1,1,"ng-template",null,20,e.W1O),e.TgZ(27,"input",21,22),e.NdJ("change",function(c){return i.onFileChange(c)}),e.qZA(),e.qZA(),e.TgZ(29,"h6"),e._uU(30,"Or upload from a URL"),e.qZA(),e.TgZ(31,"div",23),e._UZ(32,"input",24),e.TgZ(33,"button",25),e._uU(34,"Upload"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.YNc(35,m,34,5,"ng-container",26),e._UZ(36,"app-view-photo-modal",27),e.TgZ(37,"div",28),e.TgZ(38,"div",29),e.TgZ(39,"div",30),e.TgZ(40,"div",31),e.TgZ(41,"h5",32),e._uU(42,"Add Speakers"),e.qZA(),e._UZ(43,"button",15),e.qZA(),e.TgZ(44,"div",33),e.TgZ(45,"div",34),e.TgZ(46,"div",35),e.TgZ(47,"div",16),e.TgZ(48,"form",36),e.TgZ(49,"div",37),e.TgZ(50,"span",38),e._UZ(51,"i",39),e.qZA(),e._UZ(52,"input",40),e.qZA(),e.qZA(),e.TgZ(53,"div"),e.TgZ(54,"p",41),e._uU(55,"Available Speakers "),e.qZA(),e.TgZ(56,"ul",42),e.YNc(57,I,12,4,"ng-container",43),e.ALo(58,"filter"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(59,"div",44),e.TgZ(60,"div",16),e.TgZ(61,"form",36),e.TgZ(62,"div"),e.TgZ(63,"label",45),e._uU(64,"Full name"),e.qZA(),e._UZ(65,"input",46),e.YNc(66,j,2,0,"div",47),e.qZA(),e.TgZ(67,"div"),e.TgZ(68,"label",45),e._uU(69,"Email address"),e.qZA(),e._UZ(70,"input",48),e.YNc(71,te,3,2,"span",49),e.qZA(),e.TgZ(72,"div",41),e.TgZ(73,"label",45),e._uU(74,"Description"),e.qZA(),e._UZ(75,"textarea",50),e.YNc(76,ne,2,0,"div",47),e.qZA(),e.TgZ(77,"div",51),e.TgZ(78,"button",52),e.NdJ("click",function(){return i.addNewSpeaker()}),e._uU(79,"Save Speaker "),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(80,"div",53),e.TgZ(81,"button",54),e._uU(82," Create New Speaker "),e.qZA(),e.TgZ(83,"button",55),e.NdJ("click",function(){return i.resetSpeakerModal()}),e._uU(84,"Close "),e.qZA(),e.TgZ(85,"button",56),e.NdJ("click",function(){return i.saveSpeaker()}),e._uU(86," Save "),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&n){const o=e.MAs(3),c=e.MAs(12),_=e.MAs(26);e.xp6(1),e.Q6J("ngIf",!i.isEventPreviewShown)("ngIfElse",o),e.xp6(9),e.Q6J("ngIf","/home/create-event"===i.url)("ngIfElse",c),e.xp6(3),e.uIk("id","uploadEventPosterModal"+i.eventIndex),e.xp6(11),e.Q6J("ngIf",0===i.event.event_poster_link.length)("ngIfElse",_),e.xp6(11),e.Q6J("ngIf","/home/create-event"!==i.url),e.xp6(1),e.Q6J("id","viewFullEventPosterModal"+i.eventIndex)("eventPosterLink",i.event.event_poster_link),e.xp6(1),e.uIk("id","speakers-modal"+i.eventIndex),e.xp6(11),e.Q6J("formGroup",i.searchSpeakerForm),e.xp6(9),e.Q6J("ngForOf",e.xi3(58,24,i.speakers,i.searchText)),e.xp6(4),e.Q6J("formGroup",i.speakerForm),e.xp6(2),e.uIk("for","speakers-full-name"+i.eventIndex),e.xp6(2),e.uIk("id","speakers-full-name"+i.eventIndex),e.xp6(1),e.Q6J("ngIf",(null==i.speakerName||null==i.speakerName.errors?null:i.speakerName.errors.required)&&(null==i.speakerName?null:i.speakerName.touched)),e.xp6(2),e.uIk("for","speakers-email"+i.eventIndex),e.xp6(2),e.uIk("id","speakers-email"+i.eventIndex),e.xp6(1),e.Q6J("ngIf",(null==i.speakerEmail?null:i.speakerEmail.invalid)&&((null==i.speakerEmail?null:i.speakerEmail.dirty)||(null==i.speakerEmail?null:i.speakerEmail.touched))),e.xp6(2),e.uIk("for","speakers-description"+i.eventIndex),e.xp6(2),e.uIk("id","speakers-description"+i.eventIndex),e.xp6(1),e.Q6J("ngIf",(null==i.speakerDescription||null==i.speakerDescription.errors?null:i.speakerDescription.errors.required)&&(null==i.speakerDescription?null:i.speakerDescription.touched)),e.xp6(2),e.Q6J("disabled",i.speakerForm.invalid)}},directives:[t.O5,p._Y,p.JL,p.sg,p.Fj,p.JJ,p.u,t.mk,p.wV,p.EJ,p.YN,p.Kr,t.sg,D.g,w.m,p.Q7],pipes:[t.uU,M.Z],styles:['.gs-card[_ngcontent-%COMP%]{width:530px}.gs-card[_ngcontent-%COMP%]:focus-within{border-color:var(--bs-primary);box-shadow:0 0 6px 0 rgb(var(--bs-primary-rgb),64%)}#event-poster[_ngcontent-%COMP%]{position:relative;z-index:100;width:100%;aspect-ratio:3/2;border-radius:12px;overflow:hidden;cursor:pointer}#event-poster[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;right:0;bottom:0;left:0;transition:.3s cubic-bezier(.6,.05,.28,.91)}#event-poster[_ngcontent-%COMP%]:hover:before{background-color:#00000040}#event-poster[_ngcontent-%COMP%]:hover   .upload-event-poster-text[_ngcontent-%COMP%]{opacity:1}#event-poster-img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.upload-event-poster-text[_ngcontent-%COMP%]{color:#fff;opacity:0;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transition:opacity .3s cubic-bezier(.6,.05,.28,.91)}.progress[_ngcontent-%COMP%]{height:4px}.auto-size-input-container[_ngcontent-%COMP%]{--height: 64px;width:min-content;height:var(--height);position:relative}#qr-expiration[_ngcontent-%COMP%]{position:absolute;left:0;width:100%;height:var(--height);border:none}#qr-expiration[_ngcontent-%COMP%]::-webkit-outer-spin-button, #qr-expiration[_ngcontent-%COMP%]::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}#qr-expiration[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}#qr-expiration[_ngcontent-%COMP%], .for-auto-size[_ngcontent-%COMP%]{font-size:48px;font-weight:600;text-align:center}.for-auto-size[_ngcontent-%COMP%]{padding:0 4px;visibility:hidden;white-space:pre}']}),a})()},7899:(O,x,v)=>{v.d(x,{m:()=>E});var u=v(1223),e=v(9808);function p(t,b){1&t&&(u.O4$(),u.TgZ(0,"svg",9),u._UZ(1,"rect",10),u.qZA())}function f(t,b){if(1&t&&u._UZ(0,"img",11),2&t){const A=u.oxw();u.s9C("src",A.eventPosterLink,u.LSH)}}let E=(()=>{class t{constructor(){this.eventPosterLink="",this.id="viewFullEventPosterModal"}ngOnInit(){}}return t.\u0275fac=function(A){return new(A||t)},t.\u0275cmp=u.Xpm({type:t,selectors:[["app-view-photo-modal"]],inputs:{eventPosterLink:"eventPosterLink",id:"id"},decls:10,vars:3,consts:[["tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-xl","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header","p-4","pb-0","border-0"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body","p-4","pt-4"],["id","event-poster"],["id","event-poster-img",4,"ngIf","ngIfElse"],["eventPoster",""],["id","event-poster-img"],["width","100%","height","100%","fill","var(--bs-primary)"],["id","event-poster-img",3,"src"]],template:function(A,q){if(1&A&&(u.TgZ(0,"div",0),u.TgZ(1,"div",1),u.TgZ(2,"div",2),u.TgZ(3,"div",3),u._UZ(4,"button",4),u.qZA(),u.TgZ(5,"div",5),u.TgZ(6,"div",6),u.YNc(7,p,2,0,"svg",7),u.YNc(8,f,1,1,"ng-template",null,8,u.W1O),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA()),2&A){const D=u.MAs(9);u.uIk("id",q.id),u.xp6(7),u.Q6J("ngIf",0===q.eventPosterLink.length)("ngIfElse",D)}},directives:[e.O5],styles:["#event-poster[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:12px;overflow:hidden}#event-poster-img[_ngcontent-%COMP%]{width:100%;height:100%}"]}),t})()}}]);