"use strict";(self.webpackChunkGCSEAMS=self.webpackChunkGCSEAMS||[]).push([[75],{8075:(J,q,m)=>{m.r(q),m.d(q,{HomeModule:()=>L});var g=m(9808),e=m(8118),p=m(5861),b=m(2033),Z=m(4012),t=m(1223),A=m(555),C=m(968),S=m(3419);let U=(()=>{class c{constructor(){this.view=[1150,350],this.showXAxis=!0,this.showYAxis=!0,this.showLegend=!0,this.showXAxisLabel=!0,this.xAxisLabel=this.x_axisLabel,this.showYAxisLabel=!0,this.yAxisLabel="Number of Students",this.legendTitle="Legend",this.legendPosition=S.tV.Below,this.colorScheme={name:"vivid",selectable:!0,group:S.N3.Ordinal,domain:["#647c8a","#3f51b5","#2196f3","#00b862","#afdf0a","#a7b61a","#f3e562","#ff9800","#ff5722","#ff4514"]},Object.assign(this,this.summarizedData)}onSelect(a){console.log("Item clicked",JSON.parse(JSON.stringify(a)))}onActivate(a){console.log("Activate",JSON.parse(JSON.stringify(a)))}onDeactivate(a){console.log("Deactivate",JSON.parse(JSON.stringify(a)))}}return c.\u0275fac=function(a){return new(a||c)},c.\u0275cmp=t.Xpm({type:c,selectors:[["app-grouped-vertical-bar-chart"]],inputs:{summarizedData:"summarizedData",x_axisLabel:"x_axisLabel"},decls:1,vars:12,consts:[[3,"view","results","xAxis","yAxis","legend","scheme","legendPosition","showXAxisLabel","showYAxisLabel","xAxisLabel","yAxisLabel","legendTitle","select","activate","deactivate"]],template:function(a,i){1&a&&(t.TgZ(0,"ngx-charts-bar-vertical-2d",0),t.NdJ("select",function(u){return i.onSelect(u)})("activate",function(u){return i.onActivate(u)})("deactivate",function(u){return i.onDeactivate(u)}),t.qZA()),2&a&&t.Q6J("view",i.view)("results",i.summarizedData)("xAxis",i.showXAxis)("yAxis",i.showYAxis)("legend",i.showLegend)("scheme",i.colorScheme)("legendPosition",i.legendPosition)("showXAxisLabel",i.showXAxisLabel)("showYAxisLabel",i.showYAxisLabel)("xAxisLabel",i.xAxisLabel)("yAxisLabel",i.yAxisLabel)("legendTitle",i.legendTitle)},directives:[S.H5],styles:[""]}),c})();function P(c,f){if(1&c&&(t.ynx(0),t.TgZ(1,"h6"),t._uU(2),t.qZA(),t._UZ(3,"app-grouped-vertical-bar-chart",7),t.BQk()),2&c){const a=f.$implicit,i=t.oxw();t.xp6(2),t.Oqu(null==a?null:a.department),t.xp6(1),t.Q6J("summarizedData",a.value)("x_axisLabel",i.programs)}}let w=(()=>{class c{constructor(a,i,s){this.route=a,this.userService=i,this.dataService=s,this.multi=[],this.multi2=[],this.byDepartmentBreakdown=[],this.departments="Departments",this.programs="Programs"}ngOnInit(){this.activeEventUUID=this.route.params.subscribe(a=>{this.uuid=a.uuid}),this.getEventDetails(this.uuid),console.log(this.uuid)}getEventDetails(a){var i=this;const s=new b.K;s.EndPoint=`event/${a}`,s.RequestType=Z.l.GET_REQUIRES_AUTHENTICATION,s.AuthToken=this.userService.HttpOptions,this.dataService.httpRequest(s).subscribe(function(){var u=(0,p.Z)(function*(v){i.activeEvent=v,yield i.getEventAnalyticsByDepartment(a),yield i.getEventAnalyticsByCourse(a),yield console.log(v)});return function(v){return u.apply(this,arguments)}}()),this.departments="Departments",this.programs="Programs"}getEventAnalyticsByDepartment(a){var i=this;const s=new b.K;s.EndPoint=`analytics/department/${a}`,s.RequestType=Z.l.GET_REQUIRES_AUTHENTICATION,s.AuthToken=this.userService.HttpOptions,this.dataService.httpRequest(s).subscribe(function(){var u=(0,p.Z)(function*(v){yield i.setDepartmentAnalytics(v),yield i.setAnalyticsByDepartmentData(v),yield console.log(v)});return function(v){return u.apply(this,arguments)}}())}setDepartmentAnalytics(a){this.departmentAnalytics=a}setAnalyticsByDepartmentData(a){for(let i of a)this.multi.push({name:i.department_code,series:[{name:"Invited",value:i.invited},{name:"Viewed",value:i.views},{name:"Registered",value:i.registered},{name:"Attended",value:i.attendees}]});this.multi=[...this.multi],console.log("multi value:"),console.log(this.multi)}getEventAnalyticsByCourse(a){var i=this;const s=new b.K;s.EndPoint=`analytics/course/${a}`,s.RequestType=Z.l.GET_REQUIRES_AUTHENTICATION,s.AuthToken=this.userService.HttpOptions,this.dataService.httpRequest(s).subscribe(function(){var u=(0,p.Z)(function*(v){yield i.setCoursesAnalytics(v),yield i.setAnalyticsByCourseData(v),yield i.breakDownPerDepartment(),yield console.log(v)});return function(v){return u.apply(this,arguments)}}())}setCoursesAnalytics(a){this.coursesAnalytics=a}setAnalyticsByCourseData(a){for(let i of a)this.multi2.push({department:i.department_name,name:i.course_code,series:[{name:"Invited",value:i.invited},{name:"Viewed",value:i.views},{name:"Registered",value:i.registered},{name:"Attended",value:i.attendees}]});this.multi2=[...this.multi2]}breakDownPerDepartment(){const a=this.userService.getDepartments();for(let i of a)for(let s of this.coursesAnalytics)if(i.department_code==s.department_code){this.byDepartmentBreakdown.push({department:i.department_name,value:this.getMultiByDepartment(i.department_name)});break}}getMultiByDepartment(a){let i=[];for(let s of this.multi2)s.department==a&&i.push(s);return i}}return c.\u0275fac=function(a){return new(a||c)(t.Y36(e.gz),t.Y36(A.K),t.Y36(C.D))},c.\u0275cmp=t.Xpm({type:c,selectors:[["dashboard-event-analytics"]],decls:17,vars:4,consts:[["id","event-analytics-body"],[1,"gs-header"],[1,"gs-cards-body"],[1,"gs-card"],[1,"gs-card-header"],[1,"d-flex","align-items-center","m-0"],[1,"gs-card-content"],[3,"summarizedData","x_axisLabel"],[4,"ngFor","ngForOf"]],template:function(a,i){1&a&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"h2"),t._uU(3),t.qZA(),t.qZA(),t.TgZ(4,"div",2),t.TgZ(5,"div",3),t.TgZ(6,"div",4),t.TgZ(7,"h5",5),t._uU(8,"Comparison per Department"),t.qZA(),t.qZA(),t.TgZ(9,"div",6),t._UZ(10,"app-grouped-vertical-bar-chart",7),t.qZA(),t.qZA(),t.TgZ(11,"div",3),t.TgZ(12,"div",4),t.TgZ(13,"h5",5),t._uU(14,"Comparison per Course"),t.qZA(),t.qZA(),t.TgZ(15,"div",6),t.YNc(16,P,4,3,"ng-container",8),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&a&&(t.xp6(3),t.Oqu(null!=i.activeEvent&&i.activeEvent.event_title?null==i.activeEvent?null:i.activeEvent.event_title:"Event name"),t.xp6(7),t.Q6J("summarizedData",i.multi)("x_axisLabel",i.departments),t.xp6(6),t.Q6J("ngForOf",i.byDepartmentBreakdown))},directives:[U,g.sg],styles:["#event-analytics-body[_ngcontent-%COMP%]{overflow-y:auto;height:100%}.gs-cards-body[_ngcontent-%COMP%]{--spacing: 32px;display:flex;flex-direction:column;gap:var(--spacing);padding:var(--spacing)}"]}),c})();var O=m(7796);function M(c,f){if(1&c){const a=t.EpF();t.TgZ(0,"button",16),t.NdJ("click",function(){return t.CHM(a),t.oxw().updateEvent()}),t._uU(1,"Save"),t.qZA()}if(2&c){const a=t.oxw();t.Q6J("disabled",!a.isEventValid)}}function R(c,f){1&c&&(t.TgZ(0,"span",23),t._uU(1,"Present"),t.qZA())}function N(c,f){1&c&&(t.TgZ(0,"span",24),t._uU(1,"Absent"),t.qZA())}function Q(c,f){if(1&c&&(t.TgZ(0,"tr"),t.TgZ(1,"th",17),t._uU(2),t.qZA(),t.TgZ(3,"td",18),t._uU(4),t.qZA(),t.TgZ(5,"td",19),t._uU(6),t.qZA(),t.TgZ(7,"td",20),t.YNc(8,R,2,0,"span",21),t.qZA(),t.YNc(9,N,2,0,"ng-template",null,22,t.W1O),t.qZA()),2&c){const a=f.$implicit,i=f.index,s=t.MAs(10);t.xp6(2),t.Oqu(i+1),t.xp6(2),t.Oqu(a.course_code),t.xp6(2),t.Oqu(a.name),t.xp6(2),t.Q6J("ngIf",a.is_present)("ngIfElse",s)}}const F=[{path:"",pathMatch:"full",redirectTo:"events/ongoing"},{path:"",component:(()=>{class c{constructor(a,i,s){this.userService=a,this.dataService=i,this.router=s,this.fullName=""}ngOnInit(){this.userService.deleteBeginningQrLink(),this.userService.deleteEndQrLink(),this.userService.getAutoLoggedIn()||this.router.navigateByUrl(""),this.userService.getTimerIsStarted()||(console.log("timer started: "+this.userService.getTimerIsStarted()),console.log("Refreshing token."),this.userService.refreshAccessToken(),this.userService.start()),this.fetchProfile(),this.userService.isDepartmentLoaded||this.fetchDepartments(),this.userService.IsSpeakerLoaded||this.fetchSpeakers()}fetchSpeakers(){const a=new b.K;a.EndPoint="speakers",a.RequestType=Z.l.GET_REQUIRES_AUTHENTICATION,a.AuthToken=this.userService.HttpOptions,this.dataService.httpRequest(a).subscribe(i=>this.userService.setSpeakers(i))}fetchDepartments(){const a=new b.K;a.EndPoint="departments",a.RequestType=Z.l.GET_NO_AUTHENTICATION,this.dataService.httpRequest(a).subscribe(i=>this.userService.setDepartments(i))}fetchProfile(){var a=this;const i=new b.K;i.EndPoint="profile",i.RequestType=Z.l.GET_REQUIRES_AUTHENTICATION,i.AuthToken=this.userService.HttpOptions,this.dataService.httpRequest(i).subscribe(s=>{this.userService.setActiveUser(s),this.fullName=s.first_name+" "+s.middle_name[0]+". "+s.last_name},function(){var s=(0,p.Z)(function*(u){a.dataService.handleError(u)});return function(u){return s.apply(this,arguments)}}())}logout(){this.userService.logOut()}}return c.\u0275fac=function(a){return new(a||c)(t.Y36(A.K),t.Y36(C.D),t.Y36(e.F0))},c.\u0275cmp=t.Xpm({type:c,selectors:[["app-home"]],decls:40,vars:1,consts:[["id","home-body"],["id","sidenav",1,"d-flex","flex-column","bg-light","border-end","user-select-none"],["id","logo",1,"d-flex","align-items-center","gap-3","mb-5","p-2"],["src","assets/logo_small.png","width","auto","height","auto",1,"mb-2"],[1,"text-primary",2,"font-weight","700","font-size","20px"],[1,"nav","flex-column","mb-auto"],[1,"nav-item","mb-3"],["routerLink","create-event",1,"nav-link","nav-fab","rounded-pill"],[1,"icon-bg"],[1,"bi","bi-plus-lg"],[1,"nav-item"],["routerLink","events","routerLinkActive","active",1,"nav-link"],[1,"bi","bi-calendar3-event"],["routerLink","dashboard","routerLinkActive","active",1,"nav-link"],[1,"bi","bi-clipboard-data"],[1,"dropdown"],["id","profile-button","type","button","data-bs-toggle","dropdown","aria-expanded","false"],["id","profile-pic",1,"bg-primary","rounded-circle"],[1,"text-primary","fw-bold","m-0","ms-2"],[1,"bi","bi-caret-down-fill","text-primary"],["aria-labelledby","dropdownMenuButton1",1,"dropdown-menu"],["routerLink","profile",1,"dropdown-item"],[1,"dropdown-divider"],[1,"dropdown-item",3,"click"],["id","home-content"]],template:function(a,i){1&a&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t._UZ(3,"img",3),t.TgZ(4,"span",4),t._uU(5,"GC-SEAMS"),t.qZA(),t.qZA(),t.TgZ(6,"ul",5),t.TgZ(7,"li",6),t.TgZ(8,"a",7),t.TgZ(9,"div",8),t._UZ(10,"i",9),t.qZA(),t._uU(11," Create Event "),t.qZA(),t.qZA(),t.TgZ(12,"li",10),t.TgZ(13,"a",11),t.TgZ(14,"div",8),t._UZ(15,"i",12),t.qZA(),t._uU(16," Events "),t.qZA(),t.qZA(),t.TgZ(17,"li",10),t.TgZ(18,"a",13),t.TgZ(19,"div",8),t._UZ(20,"i",14),t.qZA(),t._uU(21," Dashboard "),t.qZA(),t.qZA(),t.qZA(),t.TgZ(22,"div",15),t.TgZ(23,"a",16),t._UZ(24,"div",17),t.TgZ(25,"p",18),t._uU(26),t.qZA(),t._uU(27,"\xa0 "),t._UZ(28,"i",19),t.qZA(),t.TgZ(29,"ul",20),t.TgZ(30,"li"),t.TgZ(31,"a",21),t._uU(32,"Profile"),t.qZA(),t.qZA(),t.TgZ(33,"li"),t._UZ(34,"hr",22),t.qZA(),t.TgZ(35,"li"),t.TgZ(36,"a",23),t.NdJ("click",function(){return i.logout()}),t._uU(37,"Log out"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(38,"div",24),t._UZ(39,"router-outlet"),t.qZA(),t.qZA()),2&a&&(t.xp6(26),t.Oqu(i.fullName))},directives:[e.yS,e.Od,e.lC],styles:["#home-body[_ngcontent-%COMP%]{display:flex;width:100%;height:100%;background-color:#fff}#sidenav[_ngcontent-%COMP%]{height:100%;min-width:250px;padding:24px}#sidenav[_ngcontent-%COMP%]   .nav[_ngcontent-%COMP%]{gap:6px}#sidenav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;color:var(--bs-gray-600);font-weight:500;padding:8px;border-radius:6px}#sidenav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{color:var(--bs-primary);background-color:rgb(var(--bs-primary-rgb),8%)}#sidenav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link.nav-fab[_ngcontent-%COMP%]{color:#fff;background-color:var(--bs-primary);box-shadow:0 3px 6px 0 rgb(var(--bs-primary-rgb),24%)}#sidenav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .icon-bg[_ngcontent-%COMP%]{--icon-size: 32px;display:flex;align-items:center;justify-content:center;width:var(--icon-size);height:var(--icon-size)}#profile-button[_ngcontent-%COMP%]{display:flex;align-items:center;text-decoration:none}#profile-button[_ngcontent-%COMP%]   #profile-pic[_ngcontent-%COMP%]{display:inline-block;width:36px;height:auto;aspect-ratio:1}#home-content[_ngcontent-%COMP%]{position:relative;min-width:0;flex:1}.navbar[_ngcontent-%COMP%]{padding-left:32px;padding-right:32px}#event-search[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{top:.45rem;left:.75rem}#event-search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:400px;padding-left:2.5rem}"]}),c})(),children:[{path:"events",pathMatch:"full",redirectTo:"events/ongoing"},{path:"create-event",loadChildren:()=>m.e(80).then(m.bind(m,4080)).then(c=>c.CreateEventModule)},{path:"events",loadChildren:()=>m.e(69).then(m.bind(m,9069)).then(c=>c.EventsModule)},{path:"events/:uuid",component:(()=>{class c{constructor(a,i,s,u){this.userService=a,this.dataService=i,this.location=s,this.route=u,this.isEventUpdating=!1,this.isBeginningQRCodeGenerating=!1,this.isEndQRCodeGenerating=!1,this.currentDate=new Date,this.isEventOngoing=!1,this.isEventEditable=!1,this.analytics={attendees:0,invited:0,registered:0,views:0},this.event={departments:[],event_description:"",event_end_date:"",event_id:0,event_start_date:"",event_title:"",event_uuid:"",is_attendance_strict:!0,registration_link:"",seminar_hours:0,speakers:[],timezone_id:"",event_poster_link:""},this.departments=[],this.chosenDepartments=[],this.speakers=[],this.chosenSpeaker=[],this.chosenDepartmentsList="",this.chosenSpeakersList=""}ngOnInit(){this.activeEventUUID=this.route.params.subscribe(a=>{this.uuid=a.uuid})}ngAfterViewInit(){this.getEventDetails(this.uuid),this.eventCurrentState=Object.assign({},this.eventCardEdit.event),this.eventCardEdit.eventForm.valueChanges.subscribe(()=>{JSON.stringify(this.eventCardEdit.event)!=JSON.stringify(this.eventCurrentState)?(console.log(JSON.stringify(this.eventCurrentState)),console.log(JSON.stringify(this.eventCardEdit.event)),console.log("changed")):console.log("back to orig")}),this.getAnalyticsData(this.uuid)}ngDoCheck(){var a;this.isEventValid=null===(a=this.eventCardEdit)||void 0===a?void 0:a.eventForm.valid}getEventStartTime(a){const s=a.event_start_date.split("[")[0].toString(),u=new Date(s),v=u.getHours(),T=u.getMinutes();return this.eventStartDate=u,v.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1})+":"+T.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1})}getEventEndTime(a){const s=a.event_end_date.split("[")[0].toString(),u=new Date(s),v=u.getHours(),T=u.getMinutes();return this.eventEndDate=u,v.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1})+":"+T.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1})}getEventDate(a){let u=a.event_start_date.split("[")[0].toString().split("-");return u[0]+"-"+u[1]+"-"+u[2].split("T")[0]}getEventDetails(a){var i=this;const s=new b.K;s.EndPoint=`event/${a}`,s.RequestType=Z.l.GET_REQUIRES_AUTHENTICATION,s.AuthToken=this.userService.HttpOptions,this.dataService.httpRequest(s).subscribe(function(){var u=(0,p.Z)(function*(v){i.eventCardEdit.eventForm.patchValue({eventName:v.event_title,eventDetails:v.event_description,eventDate:i.getEventDate(v),eventStartTime:i.getEventStartTime(v),eventEndTime:i.getEventEndTime(v),eventSeminarHours:v.seminar_hours,eventIsStrict:v.is_attendance_strict,eventRegistrationForm:v.registration_link}),i.eventCardEdit.event.event_poster_link=v.event_poster_link,i.eventCardEdit.initialEventForm=i.eventCardEdit.eventForm.value,i.eventCardEdit.chosenSpeakers=v.speakers,i.eventCardEdit.savedSpeakers=[...i.eventCardEdit.chosenSpeakers],i.eventCardEdit.event.speakers=[...i.eventCardEdit.savedSpeakers];for(let T of i.eventCardEdit.departments)for(let I of v.departments)T.department_id==I.department_id&&(i.eventCardEdit.chosenDepartments[T.department_id-1]=i.eventCardEdit.departments[T.department_id-1]);i.eventCardEdit.eventForm.controls.eventInvitedDepartments.patchValue(i.eventCardEdit.chosenDepartments),console.log(i.eventCardEdit.chosenDepartments);for(let T of i.eventCardEdit.speakers)for(let I of v.speakers)T.speaker_id==I.speaker_id&&(T.speaker_is_added=!0,console.log(T+" : "+I));i.eventCardEdit.eventForm.controls.eventSpeakers.patchValue(i.eventCardEdit.savedSpeakers),i.getRegisteredStudents(a).then(()=>{i.getAttendedStudents(a),i.processStudentsData()}),console.log(v.is_attendance_strict),i.isEventOngoing=i.currentDate>i.eventStartDate&&i.currentDate<i.eventEndDate,i.isEventEditable=i.currentDate<i.eventStartDate});return function(v){return u.apply(this,arguments)}}(),u=>{this.dataService.handleError(u)})}setEventDetails(a){this.event=a}updateEvent(){var a=this;this.isEventUpdating=!0;let i=this.eventCardEdit.event;i.departments=i.departments.filter(u=>u);const s=new b.K;s.EndPoint=`event/${this.uuid}`,s.RequestType=Z.l.PUT_REQUIRES_AUTHENTICATION,s.Body=i,s.AuthToken=this.userService.HttpOptions,this.dataService.httpRequest(s).subscribe(function(){var u=(0,p.Z)(function*(v){yield console.log(v),a.isEventUpdating=!1,sessionStorage.setItem("updatedEventUUID",a.uuid),a.location.back()});return function(v){return u.apply(this,arguments)}}(),u=>{this.dataService.handleError(u),this.isEventUpdating=!1})}getRegisteredStudents(a){var i=this;return(0,p.Z)(function*(){const s=new b.K;s.EndPoint=`event/registered/${a}`,s.RequestType=Z.l.GET_REQUIRES_AUTHENTICATION,s.AuthToken=i.userService.HttpOptions,i.dataService.httpRequest(s).subscribe(function(){var u=(0,p.Z)(function*(v){i.registeredStudents=v,yield console.log("registered: ----------"),yield console.log(v)});return function(v){return u.apply(this,arguments)}}(),u=>{i.dataService.handleError(u)})})()}getAttendedStudents(a){var i=this;const s=new b.K;s.EndPoint=`event/attended/${a}`,s.RequestType=Z.l.GET_REQUIRES_AUTHENTICATION,s.AuthToken=this.userService.HttpOptions,this.dataService.httpRequest(s).subscribe(function(){var u=(0,p.Z)(function*(v){i.attendedStudents=v,i.processStudentsData(),console.log("Attended: ----------"),console.log(v)});return function(v){return u.apply(this,arguments)}}(),u=>{this.dataService.handleError(u)})}processStudentsData(){for(let a of this.registeredStudents)for(let i of this.attendedStudents)if(a.id==i.id){a.is_present=!0;break}console.log("Data Processing completed"),console.log(this.registeredStudents)}getAnalyticsData(a){var i=this;const s=new b.K;s.EndPoint=`analytics/${a}`,s.RequestType=Z.l.GET_REQUIRES_AUTHENTICATION,s.AuthToken=this.userService.HttpOptions,this.dataService.httpRequest(s).subscribe(function(){var u=(0,p.Z)(function*(v){i.analytics=v,console.log(i.analytics)});return function(v){return u.apply(this,arguments)}}())}}return c.\u0275fac=function(a){return new(a||c)(t.Y36(A.K),t.Y36(C.D),t.Y36(g.Ye),t.Y36(e.gz))},c.\u0275cmp=t.Xpm({type:c,selectors:[["app-event-details"]],viewQuery:function(a,i){if(1&a&&t.Gf(O.x,5),2&a){let s;t.iGM(s=t.CRH())&&(i.eventCardEdit=s.first)}},decls:23,vars:9,consts:[["id","event-details-body"],[1,"gs-header"],[1,"gs-header-buttons"],["class","btn btn-primary rounded-pill shadow",3,"disabled","click",4,"ngIf"],[1,"gs-cards-body"],[1,"event-details",3,"activeEventUUID","isEventOngoing","isEventEditable"],[1,"gs-card","attendance-card"],[1,"gs-card-header"],[1,"d-flex","align-items-center","m-0"],[1,"ms-auto","hstack","gap-2","ps-5"],[1,"badge","rounded-pill","border","border-primary","text-primary","float-end"],[1,"badge","rounded-pill","border","border-danger","text-danger","float-end"],[1,"badge","rounded-pill","border","border-warning","text-warning","float-end"],[1,"gs-card-content","p-0"],[1,"table"],[4,"ngFor","ngForOf"],[1,"btn","btn-primary","rounded-pill","shadow",3,"disabled","click"],["scope","row",1,"student-count"],[1,"student-course","text-primary"],[1,"student-name"],[1,"registered-status"],["class","badge rounded-pill bg-primary float-end",4,"ngIf","ngIfElse"],["registeredStatus",""],[1,"badge","rounded-pill","bg-primary","float-end"],[1,"badge","rounded-pill","bg-danger","float-end"]],template:function(a,i){1&a&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"h2"),t._uU(3),t.qZA(),t.TgZ(4,"div",2),t.YNc(5,M,2,1,"button",3),t.qZA(),t.qZA(),t.TgZ(6,"div",4),t._UZ(7,"app-event-card-edit",5),t.TgZ(8,"div",6),t.TgZ(9,"div",7),t.TgZ(10,"h5",8),t._uU(11,"Attendance"),t.qZA(),t.TgZ(12,"div",9),t.TgZ(13,"span",10),t._uU(14),t.qZA(),t.TgZ(15,"span",11),t._uU(16),t.qZA(),t.TgZ(17,"span",12),t._uU(18),t.qZA(),t.qZA(),t.qZA(),t.TgZ(19,"div",13),t.TgZ(20,"table",14),t.TgZ(21,"tbody"),t.YNc(22,Q,11,5,"tr",15),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&a&&(t.xp6(3),t.Oqu(i.isEventEditable?"Edit Event":"View Event"),t.xp6(2),t.Q6J("ngIf",i.isEventEditable),t.xp6(2),t.Q6J("activeEventUUID",i.uuid)("isEventOngoing",i.isEventOngoing)("isEventEditable",i.isEventEditable),t.xp6(7),t.hij("Present - ",i.analytics.attendees,""),t.xp6(2),t.hij("Absent - ",i.isEventOngoing?i.analytics.registered-i.analytics.attendees:0,""),t.xp6(2),t.hij("Registered - ",i.analytics.registered,""),t.xp6(4),t.Q6J("ngForOf",i.registeredStudents))},directives:[g.O5,O.x,g.sg],styles:["#event-details-body[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;height:100%}.gs-cards-body[_ngcontent-%COMP%]{--spacing: 32px;display:inline-flex;flex-direction:row;gap:var(--spacing);height:100%;overflow:hidden;padding:var(--spacing)}.attendance-card[_ngcontent-%COMP%]{--spacing: 24px}.attendance-card[_ngcontent-%COMP%]   .gs-card-header[_ngcontent-%COMP%]{padding-left:var(--spacing);padding-right:var(--spacing)}.attendance-card[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .attendance-card[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{white-space:nowrap}.attendance-card[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   td.student-course[_ngcontent-%COMP%]{width:100px}.attendance-card[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child, .attendance-card[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{padding-left:var(--spacing)}.attendance-card[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child, .attendance-card[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{padding-right:var(--spacing)}.attendance-card[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   th.student-count[_ngcontent-%COMP%]{width:0;padding-right:var(--spacing)}"]}),c})()},{path:"dashboard",loadChildren:()=>m.e(158).then(m.bind(m,8158)).then(c=>c.DashboardModule)},{path:"dashboard/:uuid",component:w},{path:"profile",loadChildren:()=>m.e(58).then(m.bind(m,3058)).then(c=>c.ProfileModule)}]}];let D=(()=>{class c{}return c.\u0275fac=function(a){return new(a||c)},c.\u0275mod=t.oAB({type:c}),c.\u0275inj=t.cJS({imports:[[e.Bz.forChild(F)],e.Bz]}),c})(),L=(()=>{class c{}return c.\u0275fac=function(a){return new(a||c)},c.\u0275mod=t.oAB({type:c}),c.\u0275inj=t.cJS({imports:[[g.ez,D]]}),c})()},7796:(J,q,m)=>{m.d(q,{x:()=>te});var g=m(5861),e=m(1223),p=m(2382),b=m(2033),Z=m(4012),t=m(9808),A=m(968),C=m(555),S=m(8118),U=m(2152),P=m(7899),w=m(3189);const O=["uploadEventPosterButton"];function M(d,h){if(1&d&&(e.ynx(0),e.TgZ(1,"div",77),e.TgZ(2,"button",78),e.TgZ(3,"span",79),e._uU(4,"Generate Beginning QR Code..."),e.qZA(),e._uU(5," Generate QR Code... "),e.qZA(),e.qZA(),e.BQk()),2&d){const n=e.oxw(2);e.xp6(2),e.Q6J("disabled",!n.isEventOngoing)}}function R(d,h){if(1&d){const n=e.EpF();e.TgZ(0,"span",81),e.NdJ("click",function(){e.CHM(n);const o=e.oxw().$implicit;return e.oxw(2).addRemoveDepartment(o)}),e._uU(1),e._UZ(2,"i",82),e.qZA()}if(2&d){const n=e.oxw().$implicit;e.xp6(1),e.hij(" ",n.department_code," ")}}function N(d,h){if(1&d&&(e.ynx(0),e.YNc(1,R,3,1,"span",80),e.BQk()),2&d){const n=h.$implicit;e.xp6(1),e.Q6J("ngIf",n)}}function Q(d,h){if(1&d){const n=e.EpF();e.TgZ(0,"label",88),e.TgZ(1,"li",89),e._uU(2),e.TgZ(3,"input",90),e.NdJ("change",function(){const l=e.CHM(n).$implicit;return e.oxw(3).addRemoveDepartment(l)}),e.qZA(),e.qZA(),e.qZA()}if(2&d){const n=h.$implicit,r=e.oxw(3);e.xp6(2),e.hij(" ",n.department_code," "),e.xp6(1),e.Q6J("checked",r.chosenDepartments.includes(n))}}function H(d,h){if(1&d&&(e.TgZ(0,"span",83),e.TgZ(1,"button",84),e._UZ(2,"i",85),e.qZA(),e.TgZ(3,"ul",86),e.YNc(4,Q,4,2,"label",87),e.qZA(),e.qZA()),2&d){const n=e.oxw(2);e.xp6(4),e.Q6J("ngForOf",n.departments)}}function B(d,h){if(1&d&&(e.TgZ(0,"span",91),e._uU(1),e._UZ(2,"i",82),e.qZA()),2&d){const n=h.$implicit;e.xp6(1),e.hij(" ",n.speaker_name," ")}}function F(d,h){if(1&d&&(e.TgZ(0,"span",83),e.TgZ(1,"button",92),e._UZ(2,"i",85),e.qZA(),e.qZA()),2&d){const n=e.oxw(2);e.xp6(1),e.uIk("data-bs-target","#speakers-modal"+n.eventIndex)}}const D=function(d){return{"is-invalid":d}};function L(d,h){if(1&d&&(e.TgZ(0,"form",57),e.TgZ(1,"div"),e.TgZ(2,"label",45),e._uU(3,"Title"),e.qZA(),e._UZ(4,"input",58),e.qZA(),e.TgZ(5,"div"),e.TgZ(6,"label",45),e._uU(7,"Description"),e.qZA(),e._UZ(8,"textarea",59),e.qZA(),e.TgZ(9,"button",60),e._uU(10,"Add Event Poster"),e.qZA(),e.TgZ(11,"div",61),e.TgZ(12,"div",62),e.TgZ(13,"label",45),e._uU(14,"Date"),e.qZA(),e._UZ(15,"input",63),e.qZA(),e.TgZ(16,"div",64),e.TgZ(17,"label",45),e._uU(18,"Time"),e.qZA(),e.TgZ(19,"div",65),e._UZ(20,"input",66),e._uU(21," \u2014 "),e._UZ(22,"input",67),e.qZA(),e.qZA(),e.qZA(),e.TgZ(23,"div",61),e.TgZ(24,"div",62),e.TgZ(25,"label",45),e._uU(26,"Seminar hours"),e.qZA(),e._UZ(27,"input",68),e.qZA(),e.TgZ(28,"div",64),e.TgZ(29,"label",45),e._uU(30,"QR Code Extent"),e.qZA(),e.TgZ(31,"select",69),e.TgZ(32,"option",70),e._uU(33,"Beginning only"),e.qZA(),e.TgZ(34,"option",71),e._uU(35,"Beginning and end"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.YNc(36,M,6,1,"ng-container",26),e._UZ(37,"hr"),e.TgZ(38,"div"),e.TgZ(39,"label",45),e._uU(40,"Invited Departments"),e.qZA(),e.TgZ(41,"span",72),e.TgZ(42,"span",73),e.YNc(43,N,2,1,"ng-container",43),e.qZA(),e.YNc(44,H,5,1,"span",74),e.qZA(),e.qZA(),e.TgZ(45,"div"),e.TgZ(46,"label",45),e._uU(47,"Speakers"),e.qZA(),e.TgZ(48,"span",72),e.TgZ(49,"span",73),e.YNc(50,B,3,1,"span",75),e.qZA(),e.YNc(51,F,3,1,"span",74),e.qZA(),e.qZA(),e.TgZ(52,"div"),e.TgZ(53,"label",45),e._uU(54,"Registration Form"),e.qZA(),e._UZ(55,"input",76),e.qZA(),e.qZA()),2&d){const n=e.oxw();e.Q6J("formGroup",n.eventForm),e.xp6(2),e.uIk("for","event-title"+n.eventIndex),e.xp6(2),e.uIk("id","event-title"+n.eventIndex),e.xp6(2),e.uIk("for","event-description"+n.eventIndex),e.xp6(2),e.uIk("id","event-description"+n.eventIndex),e.xp6(1),e.Q6J("disabled",!n.isEventEditable),e.uIk("data-bs-target","#uploadEventPosterModal"+n.eventIndex),e.xp6(4),e.uIk("for","event-date"+n.eventIndex),e.xp6(2),e.Q6J("ngClass",e.VKq(33,D,(null==n.eventForm||null==n.eventForm.errors?null:n.eventForm.errors.previousDateTime)&&n.isEventEditable)),e.uIk("id","event-date"+n.eventIndex),e.xp6(2),e.uIk("for","event-start-time"+n.eventIndex),e.xp6(3),e.Q6J("ngClass",e.VKq(35,D,((null==n.eventStartTime?null:n.eventStartTime.errors)||(null==n.eventForm||null==n.eventForm.errors?null:n.eventForm.errors.invertedTimeRange)||(null==n.eventForm||null==n.eventForm.errors?null:n.eventForm.errors.previousDateTime))&&n.isEventEditable)),e.uIk("id","event-start-time"+n.eventIndex),e.xp6(2),e.Q6J("ngClass",e.VKq(37,D,((null==n.eventEndTime?null:n.eventEndTime.errors)||(null==n.eventForm||null==n.eventForm.errors?null:n.eventForm.errors.invertedTimeRange)||(null==n.eventForm||null==n.eventForm.errors?null:n.eventForm.errors.previousDateTime))&&n.isEventEditable)),e.uIk("id","event-end-time"+n.eventIndex),e.xp6(3),e.uIk("for","event-seminar-hours"+n.eventIndex),e.xp6(2),e.Q6J("ngClass",e.VKq(39,D,null==n.eventSeminarHours?null:n.eventSeminarHours.errors)),e.uIk("id","event-seminar-hours"+n.eventIndex),e.xp6(2),e.uIk("for","event-qr-extent"+n.eventIndex),e.xp6(2),e.uIk("id","event-qr-extent"+n.eventIndex),e.xp6(1),e.Q6J("ngValue",!1),e.xp6(2),e.Q6J("ngValue",!0),e.xp6(2),e.Q6J("ngIf","/home/create-event"!==n.url),e.xp6(3),e.uIk("for","event-invited-departments"+n.eventIndex),e.xp6(2),e.uIk("id","event-invited-departments"+n.eventIndex),e.xp6(2),e.Q6J("ngForOf",n.chosenDepartments),e.xp6(1),e.Q6J("ngIf",n.isEventEditable),e.xp6(2),e.uIk("for","event-speakers"+n.eventIndex),e.xp6(2),e.uIk("id","event-speakers"+n.eventIndex),e.xp6(2),e.Q6J("ngForOf",n.savedSpeakers),e.xp6(1),e.Q6J("ngIf",n.isEventEditable),e.xp6(2),e.uIk("for","event-registration-form"+n.eventIndex),e.xp6(2),e.uIk("id","event-registration-form"+n.eventIndex)}}function c(d,h){1&d&&(e.O4$(),e.TgZ(0,"svg",99),e._UZ(1,"rect",100),e.qZA())}function f(d,h){if(1&d&&e._UZ(0,"img",101),2&d){const n=e.oxw(2);e.s9C("src",n.event.event_poster_link,e.LSH)}}const a=function(d){return{"pe-none":d}};function i(d,h){if(1&d&&(e.TgZ(0,"div",93),e.TgZ(1,"div",94),e.TgZ(2,"p",18),e._uU(3,"View full event poster"),e.qZA(),e.YNc(4,c,2,0,"svg",19),e.YNc(5,f,1,1,"ng-template",null,20,e.W1O),e.qZA(),e.TgZ(7,"h2",95),e._uU(8),e.qZA(),e.TgZ(9,"p",96),e._uU(10),e.ALo(11,"date"),e.ALo(12,"date"),e.ALo(13,"date"),e.qZA(),e._UZ(14,"div",97),e.TgZ(15,"p",98),e._uU(16),e.qZA(),e.qZA()),2&d){const n=e.MAs(6),r=e.oxw();e.xp6(1),e.Q6J("ngClass",e.VKq(18,a,0===r.event.event_poster_link.length)),e.uIk("data-bs-target","#viewFullEventPosterModal"+r.eventIndex),e.xp6(3),e.Q6J("ngIf",0===r.event.event_poster_link.length)("ngIfElse",n),e.xp6(4),e.Oqu(r.event.event_title||"Lorem Ipsum"),e.xp6(2),e.lnq("",e.xi3(11,9,r.event.event_start_date,"mediumDate")," - ",e.xi3(12,12,r.event.event_start_date,"shortTime")," to ",e.xi3(13,15,r.event.event_end_date,"shortTime"),""),e.xp6(6),e.Oqu(r.event.event_description||"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.")}}function s(d,h){if(1&d){const n=e.EpF();e.ynx(0),e.TgZ(1,"button",5),e.NdJ("click",function(){return e.CHM(n),e.oxw().duplicateEvent()}),e._UZ(2,"i",102),e.qZA(),e.TgZ(3,"button",5),e.NdJ("click",function(){return e.CHM(n),e.oxw().clearEvent()}),e._UZ(4,"i",103),e.qZA(),e.TgZ(5,"button",104),e.NdJ("click",function(){return e.CHM(n),e.oxw().deleteEvent()}),e._UZ(6,"i",105),e.qZA(),e.BQk()}if(2&d){const n=e.oxw();e.xp6(5),e.Q6J("disabled",1===n.totalEvents)}}function u(d,h){if(1&d){const n=e.EpF();e.TgZ(0,"button",106),e.NdJ("click",function(){return e.CHM(n),e.oxw().revertEvent()}),e._UZ(1,"i",107),e.qZA()}if(2&d){const n=e.oxw();e.Q6J("disabled",!n.eventForm.dirty)}}function v(d,h){1&d&&(e.O4$(),e.TgZ(0,"svg",99),e._UZ(1,"rect",100),e.qZA())}function T(d,h){if(1&d&&e._UZ(0,"img",101),2&d){const n=e.oxw();e.s9C("src",n.event.event_poster_link,e.LSH)}}function I(d,h){if(1&d){const n=e.EpF();e.TgZ(0,"button",126),e.NdJ("click",function(){e.CHM(n);const o=e.oxw(2);return o.generateBeginQRCode(o.activeEventUUID)}),e._uU(1," Generate Beginning QR Code "),e._UZ(2,"app-loading-spinner",127),e.qZA()}if(2&d){const n=e.oxw(2);e.Q6J("disabled",n.isBeginningQRCodeGenerating),e.xp6(2),e.Q6J("showSpinner",n.isBeginningQRCodeGenerating)}}function G(d,h){if(1&d){const n=e.EpF();e.TgZ(0,"button",126),e.NdJ("click",function(){e.CHM(n);const o=e.oxw(2);return o.generateEndQRCode(o.activeEventUUID)}),e._uU(1," Generate End QR Code "),e._UZ(2,"app-loading-spinner",127),e.qZA()}if(2&d){const n=e.oxw(2);e.Q6J("disabled",n.isEndQRCodeGenerating),e.xp6(2),e.Q6J("showSpinner",n.isEndQRCodeGenerating)}}function Y(d,h){if(1&d){const n=e.EpF();e.ynx(0),e.TgZ(1,"div",108),e.TgZ(2,"div",11),e.TgZ(3,"div",12),e.TgZ(4,"div",13),e.TgZ(5,"h5",14),e._uU(6,"Generate QR Code"),e.qZA(),e._UZ(7,"button",15),e.qZA(),e.TgZ(8,"div",109),e.TgZ(9,"div",110),e.TgZ(10,"div",111),e.TgZ(11,"div",112),e.TgZ(12,"div",113),e.TgZ(13,"span",114,115),e._uU(15),e.qZA(),e.TgZ(16,"input",116,117),e.NdJ("input",function(){e.CHM(n);const o=e.MAs(14),l=e.MAs(17);return o.innerText=l.value}),e.qZA(),e.qZA(),e.TgZ(18,"p",118),e._uU(19,"min"),e.qZA(),e.qZA(),e.YNc(20,I,3,2,"button",119),e.YNc(21,G,3,2,"button",119),e.qZA(),e.TgZ(22,"div",120),e.TgZ(23,"label",121),e._uU(24,"Beginning"),e.qZA(),e._UZ(25,"input",122),e.TgZ(26,"button",123),e._UZ(27,"i",124),e.qZA(),e.qZA(),e.TgZ(28,"div",120),e.TgZ(29,"label",121),e._uU(30,"End"),e.qZA(),e._UZ(31,"input",122),e.TgZ(32,"button",125),e._UZ(33,"i",124),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.BQk()}if(2&d){const n=e.MAs(17),r=e.oxw();e.xp6(15),e.Oqu(n.value),e.xp6(5),e.Q6J("ngIf",!r.isBeginningQRCodeGenerated),e.xp6(1),e.Q6J("ngIf",!r.isEndQRCodeGenerated&&r.isBeginningQRCodeGenerated),e.xp6(4),e.s9C("value",r.beginQRCodeLink),e.xp6(6),e.s9C("value",r.endQRCodeLink)}}function z(d,h){if(1&d){const n=e.EpF();e.TgZ(0,"button",137),e.NdJ("click",function(){e.CHM(n);const o=e.oxw().$implicit;return e.oxw().addSpeaker(o)}),e._uU(1," Add "),e.qZA()}}function V(d,h){if(1&d){const n=e.EpF();e.TgZ(0,"button",138),e.NdJ("click",function(){e.CHM(n);const o=e.oxw().$implicit;return e.oxw().removeSpeakerFromChosen(o)}),e._uU(1," Remove "),e.qZA()}}function K(d,h){if(1&d&&(e.ynx(0),e.TgZ(1,"li",128),e.TgZ(2,"div",129),e._UZ(3,"div",130),e.TgZ(4,"div",131),e.TgZ(5,"p",132),e._uU(6),e.qZA(),e.TgZ(7,"p",133),e._uU(8),e.qZA(),e.qZA(),e.TgZ(9,"div",134),e.YNc(10,z,2,0,"button",135),e.YNc(11,V,2,0,"button",136),e.qZA(),e.qZA(),e.qZA(),e.BQk()),2&d){const n=h.$implicit;e.xp6(6),e.Oqu(n.speaker_name),e.xp6(2),e.Oqu(n.speaker_email),e.xp6(2),e.Q6J("ngIf",!n.speaker_is_added),e.xp6(1),e.Q6J("ngIf",n.speaker_is_added)}}function $(d,h){1&d&&(e.TgZ(0,"div",139),e._uU(1," Full name is required "),e.qZA())}function j(d,h){1&d&&(e.TgZ(0,"div",139),e._uU(1," Email is required "),e.qZA())}function W(d,h){1&d&&(e.TgZ(0,"div",139),e._uU(1," Invalid Email "),e.qZA())}function X(d,h){if(1&d&&(e.TgZ(0,"span",140),e.YNc(1,j,2,0,"div",47),e.YNc(2,W,2,0,"div",47),e.qZA()),2&d){const n=e.oxw();e.xp6(1),e.Q6J("ngIf",null==n.speakerEmail||null==n.speakerEmail.errors?null:n.speakerEmail.errors.required),e.xp6(1),e.Q6J("ngIf",null==n.speakerEmail||null==n.speakerEmail.errors?null:n.speakerEmail.errors.email)}}function ee(d,h){1&d&&(e.TgZ(0,"div",139),e._uU(1," Description is required "),e.qZA())}let te=(()=>{class d{constructor(n,r,o,l){this.locationStrategy=n,this.dataService=r,this.userService=o,this.router=l,this.url=this.router.url,this.eventIndex=0,this.activeEventUUID="",this.onDelete=new e.vpe,this.onDuplicate=new e.vpe,this.searchText="",this.event={departments:[],event_description:"",event_end_date:"",event_id:0,event_start_date:"",event_title:"",event_uuid:"",is_attendance_strict:!0,registration_link:"",seminar_hours:0,speakers:[],timezone_id:"",event_poster_link:""},this.departments=[],this.chosenDepartments=[],this.speakers=[],this.chosenSpeakers=[],this.savedSpeakers=[],this.isBeginningQRCodeGenerating=!1,this.isEndQRCodeGenerating=!1,this.isBeginningQRCodeGenerated=!1,this.isEndQRCodeGenerated=!1,this.endQRCodeLink="",this.beginQRCodeLink="",this.speakerForm=new p.cw({speakerName:new p.NI("",[p.kI.required]),speakerEmail:new p.NI("",[p.kI.required,p.kI.email]),speakerDescription:new p.NI("",[p.kI.required])}),this.searchSpeakerForm=new p.cw({search:new p.NI("")}),this.chosenDepartmentsList="",this.chosenSpeakersList="",this.isEventPreviewShown=!1,this.speakers=this.userService.getSpeakers(),this.departments=this.userService.getDepartments(),console.log("departments: "+this.departments),console.log("speakers: "+this.speakers),this.event.departments=this.chosenDepartments,this.event.speakers=this.chosenSpeakers}get eventPoster(){return this.eventForm.get("eventPoster")}get eventName(){return this.eventForm.get("eventName")}get eventDetails(){return this.eventForm.get("eventDetails")}get eventDate(){return this.eventForm.get("eventDate")}get eventStartTime(){return this.eventForm.get("eventStartTime")}get eventEndTime(){return this.eventForm.get("eventEndTime")}get eventEventIsStrict(){return this.eventForm.get("eventIsStrict")}get eventSpeakers(){return this.eventForm.get("eventSpeakers")}get eventRegistrationForm(){return this.eventForm.get("eventRegistrationForm")}get eventSeminarHours(){return this.eventForm.get("eventSeminarHours")}get speakerName(){return this.speakerForm.get("speakerName")}get speakerEmail(){return this.speakerForm.get("speakerEmail")}get speakerDescription(){return this.speakerForm.get("speakerDescription")}ngOnInit(){this.initializeEventForm(),this.subscribeEventForm(),this.duplicateEventData(),this.userService.isBeginningQrGenerated(this.activeEventUUID)&&(this.isBeginningQRCodeGenerated=!0,this.beginQRCodeLink=this.userService.getBeginningQrGeneratedLink(this.activeEventUUID)),this.userService.isEndQrGenerated(this.activeEventUUID)&&(this.isEndQRCodeGenerated=!0,this.endQRCodeLink=this.userService.getEndQrGeneratedLink(this.activeEventUUID))}initializeEventForm(){let n=new Date,r="",o="";n=new Date(n.getTime()+864e5),n.getHours()>=20||n.getHours()<=8?(r="16:00",o="17:00"):(r=n.getHours()+":00",o=n.getHours()+1+":00"),this.eventForm=new p.cw({eventPoster:new p.NI,eventName:new p.NI("",[p.kI.required]),eventDetails:new p.NI("",p.kI.required),eventDate:new p.NI(n.toISOString().split("T")[0],[p.kI.required]),eventStartTime:new p.NI(r,[p.kI.required,this.eventStartTimeValidator]),eventEndTime:new p.NI(o,[p.kI.required,this.eventEndTimeValidator]),eventSeminarHours:new p.NI(1,p.kI.min(1)),eventIsStrict:new p.NI(!0),eventInvitedDepartments:new p.NI([],[p.kI.required]),eventSpeakers:new p.NI([],[p.kI.required]),eventRegistrationForm:new p.NI("",[p.kI.required]),startQrCodeLink:new p.NI(""),endQrCodeLink:new p.NI("")},{validators:[this.eventDateTimeValidator]})}subscribeEventForm(){this.eventForm.valueChanges.subscribe(()=>{var n,r,o,l,_,E,k,x,y;this.event.event_title=null===(n=this.eventForm.get("eventName"))||void 0===n?void 0:n.value,this.event.event_description=null===(r=this.eventForm.get("eventDetails"))||void 0===r?void 0:r.value,this.event.event_start_date=(null===(o=this.eventForm.get("eventDate"))||void 0===o?void 0:o.value)+"T"+(null===(l=this.eventForm.get("eventStartTime"))||void 0===l?void 0:l.value)+":00",this.event.event_end_date=(null===(_=this.eventForm.get("eventDate"))||void 0===_?void 0:_.value)+"T"+(null===(E=this.eventForm.get("eventEndTime"))||void 0===E?void 0:E.value)+":00",this.event.timezone_id="Asia/Manila",this.event.seminar_hours=null===(k=this.eventForm.get("eventSeminarHours"))||void 0===k?void 0:k.value,this.event.is_attendance_strict=null===(x=this.eventForm.get("eventIsStrict"))||void 0===x?void 0:x.value,this.event.speakers=this.savedSpeakers,this.event.departments=this.chosenDepartments,this.event.registration_link=null===(y=this.eventForm.get("eventRegistrationForm"))||void 0===y?void 0:y.value}),this.searchSpeakerForm.valueChanges.subscribe(()=>{var n;this.searchText=null===(n=this.searchSpeakerForm.get("search"))||void 0===n?void 0:n.value})}duplicateEventData(){if(void 0!==this.duplicatedEventData&&void 0!==this.duplicatedEventData.eventForm){let n=this.duplicatedEventData.eventForm;this.eventForm.patchValue({eventName:n.controls.eventName.value,eventDetails:n.controls.eventDetails.value,eventDate:n.controls.eventDate.value,eventStartTime:n.controls.eventStartTime.value,eventEndTime:n.controls.eventEndTime.value,eventSeminarHours:n.controls.eventSeminarHours.value,eventIsStrict:n.controls.eventIsStrict.value,eventInvitedDepartments:n.controls.eventInvitedDepartments.value,eventSpeakers:n.controls.eventSpeakers.value,eventRegistrationForm:n.controls.eventRegistrationForm.value}),this.event.event_poster_link=this.duplicatedEventData.event_poster_link;let r=n.controls.eventInvitedDepartments.value,o=n.controls.eventSpeakers.value;this.savedSpeakers=o;for(let l of this.departments)for(let _ of r)void 0!==_&&l.department_id==_.department_id&&(this.chosenDepartments[_.department_id-1]=this.departments[l.department_id-1]);for(let l of this.speakers)for(let _ of o)l.speaker_id==_.speaker_id&&(l.speaker_is_added=!0)}}addSpeaker(n){n.speaker_is_added=!0,this.chosenSpeakers.push(n),console.log(this.chosenSpeakers)}removeSpeakerFromChosen(n){n.speaker_is_added=!1;const r=this.getSpeakerIndex(n.speaker_id);this.chosenSpeakers.splice(r,1),console.log(this.chosenSpeakers)}getSpeakerIndex(n){let r=0;for(let o of this.chosenSpeakers)if(o.speaker_id!=n&&r++,o.speaker_id==n)break;return r}onNativeChange(n,r){n.target.checked&&(console.log("added "+r.department_id),this.addChosenDepartment(r)),n.target.checked||(console.log("removed "+r.department_id),this.removeDepartmentFromChosen(r));let o=[];this.chosenDepartmentsList="";for(let l in this.chosenDepartments)this.chosenDepartments.hasOwnProperty(l)&&(o.push(this.chosenDepartments[l].department_code),this.chosenDepartmentsList=o.join(", "));this.printChosenDepartment()}addRemoveDepartment(n){this.chosenDepartments.includes(n)?delete this.chosenDepartments[n.department_id-1]:this.chosenDepartments[n.department_id-1]=n,this.eventForm.controls.eventInvitedDepartments.patchValue(this.chosenDepartments),this.printChosenDepartment()}printChosenDepartment(){console.log(this.chosenDepartments)}removeDepartmentFromChosen(n){const r=this.getDepartmentIndex(n.department_id);this.chosenDepartments.splice(r,1)}getDepartmentIndex(n){let r=0;for(let o of this.chosenDepartments)if(o.department_id!=n&&r++,o.department_id==n)break;return r}addChosenDepartment(n){this.chosenDepartments.push(n)}addNewSpeaker(){var n=this;const r={speaker_id:0,speaker_name:this.speakerForm.controls.speakerName.value,speaker_description:this.speakerForm.controls.speakerDescription.value,speaker_email:this.speakerForm.controls.speakerEmail.value,speaker_is_added:!1},o=new b.K;o.Body=r,o.EndPoint="speaker",o.RequestType=Z.l.POST_REQUIRES_AUTHENTICATION,o.AuthToken=this.userService.HttpOptions,this.dataService.httpRequest(o).subscribe(function(){var l=(0,g.Z)(function*(_){n.speaker=_,n.updateSpeakers(),n.setSpeakers()});return function(_){return l.apply(this,arguments)}}()),this.speakerForm.reset()}saveSpeaker(){this.savedSpeakers=[...this.chosenSpeakers],this.eventForm.controls.eventSpeakers.patchValue(this.savedSpeakers)}resetSpeakerModal(){this.chosenSpeakers=[...this.savedSpeakers]}setSpeakers(){this.speakers=this.userService.getSpeakers()}updateSpeakers(){var n=this;const r=new b.K;r.EndPoint="speakers",r.RequestType=Z.l.GET_REQUIRES_AUTHENTICATION,r.AuthToken=this.userService.HttpOptions,this.dataService.httpRequest(r).subscribe(function(){var o=(0,g.Z)(function*(l){n.speakers=l,yield n.userService.updateSpeakers(JSON.stringify(l)),console.log(l)});return function(l){return o.apply(this,arguments)}}()),console.log(this.speakers)}generateBeginQRCodeLink(n){var r=this;let o;this.isBeginningQRCodeGenerating=!0;const l=new b.K;l.EndPoint=`event/attendance/${n}`,l.RequestType=Z.l.GET_REQUIRES_AUTHENTICATION,l.AuthToken=this.userService.HttpOptions,this.dataService.httpRequest(l).subscribe(function(){var _=(0,g.Z)(function*(E){o=E,yield console.log(E),r.beginQRCodeLink=location.origin+r.locationStrategy.getBaseHref()+"qr-code/"+o.event_uuid+"/"+o.attendance_code+"/"+r.event.event_title,r.isBeginningQRCodeGenerated=!0,yield r.userService.addBeginningQrLink(n,r.beginQRCodeLink,r.getEventEndTime(r.event.event_end_date)),r.isBeginningQRCodeGenerating=!1});return function(E){return _.apply(this,arguments)}}(),_=>{this.dataService.handleError(_),this.isBeginningQRCodeGenerating=!1})}generateEndQRCodeLink(n){var r=this;let o;this.isEndQRCodeGenerating=!0;const l=new b.K;l.EndPoint=`event/attendance/${n}`,l.RequestType=Z.l.GET_REQUIRES_AUTHENTICATION,l.AuthToken=this.userService.HttpOptions,this.dataService.httpRequest(l).subscribe(function(){var _=(0,g.Z)(function*(E){o=E,yield console.log(E),r.endQRCodeLink=location.origin+r.locationStrategy.getBaseHref()+"qr-code/"+o.event_uuid+"/"+o.attendance_code+"/"+r.event.event_title,yield r.userService.addEndQrLink(n,r.endQRCodeLink,r.getEventEndTime(r.event.event_end_date)),r.isEndQRCodeGenerated=!0,r.isEndQRCodeGenerating=!1});return function(E){return _.apply(this,arguments)}}(),_=>{this.dataService.handleError(_),this.isEndQRCodeGenerating=!1})}generateBeginQRCode(n){var r=this;const o={event_uuid:n},l=new b.K;l.EndPoint="event/attendance/beginning",l.RequestType=Z.l.POST_REQUIRES_AUTHENTICATION,l.Body=o,l.AuthToken=this.userService.HttpOptions,this.dataService.httpRequest(l).subscribe(function(){var _=(0,g.Z)(function*(E){yield console.log(E),yield r.generateBeginQRCodeLink(n),yield alert("Beginning QR code generated")});return function(E){return _.apply(this,arguments)}}(),_=>{this.dataService.handleError(_)})}generateEndQRCode(n){var r=this;const o={event_uuid:n},l=new b.K;l.EndPoint="event/attendance/end",l.RequestType=Z.l.POST_REQUIRES_AUTHENTICATION,l.Body=o,l.AuthToken=this.userService.HttpOptions,this.dataService.httpRequest(l).subscribe(function(){var _=(0,g.Z)(function*(E){yield console.log(E),yield r.generateEndQRCodeLink(n),yield alert("End QR code generated")});return function(E){return _.apply(this,arguments)}}(),_=>{this.dataService.handleError(_)})}uploadEventPoster(){this.uploadEventPosterButton.nativeElement.click()}onFileChange(n){var o,l,r=this;const _=new FormData;if(n.target.files.length>0&&(this.eventForm.patchValue({eventPoster:n.target.files[0]}),console.log(null===(o=this.eventForm.get("eventPoster"))||void 0===o?void 0:o.value),_.append("file",null===(l=this.eventForm.get("eventPoster"))||void 0===l?void 0:l.value),_)){const k=new b.K;k.EndPoint="event/upload",k.RequestType=Z.l.POST_REQUIRES_AUTHENTICATION,k.Body=_,k.AuthToken=this.userService.FormHttpOptions,this.dataService.httpRequest(k).subscribe(function(){var x=(0,g.Z)(function*(y){console.log("Image data:"),yield console.log(y),r.event.event_poster_link=y.link});return function(y){return x.apply(this,arguments)}}(),x=>{this.dataService.handleError(x)})}}getEventEndTime(n){const o=n.split("[")[0].toString();return new Date(o)}eventDateTimeValidator(n){var r,o,l,_;let E={};const k=new Date((null===(r=n.get("eventDate"))||void 0===r?void 0:r.value)+" "+(null===(o=n.get("eventStartTime"))||void 0===o?void 0:o.value));return(null===(l=n.get("eventStartTime"))||void 0===l?void 0:l.value)>=(null===(_=n.get("eventEndTime"))||void 0===_?void 0:_.value)&&(E.invertedTimeRange=!0),k<new Date&&(E.previousDateTime=!0),0!==Object.keys(E).length?E:null}eventStartTimeValidator(n){const r=n.value;return r>="08:00"&&r<="20:00"?null:{outsideSchoolHours:!0}}eventEndTimeValidator(n){const r=n.value;return r>="08:00"&&r<="20:00"?null:{outsideSchoolHours:!0}}toggleEventPreview(){this.isEventPreviewShown=!this.isEventPreviewShown}duplicateEvent(){this.onDuplicate.emit(this.eventIndex)}clearEvent(){this.initializeEventForm()}deleteEvent(){this.onDelete.emit(this.eventIndex)}revertEvent(){console.log(this.initialEventForm),this.eventForm.reset(this.initialEventForm)}}return d.\u0275fac=function(n){return new(n||d)(e.Y36(t.S$),e.Y36(A.D),e.Y36(C.K),e.Y36(S.F0))},d.\u0275cmp=e.Xpm({type:d,selectors:[["app-event-card-edit"]],viewQuery:function(n,r){if(1&n&&e.Gf(O,5),2&n){let o;e.iGM(o=e.CRH())&&(r.uploadEventPosterButton=o.first)}},inputs:{isEventOngoing:"isEventOngoing",isEventEditable:"isEventEditable",eventIndex:"eventIndex",activeEventUUID:"activeEventUUID",duplicatedEventData:"duplicatedEventData",totalEvents:"totalEvents"},outputs:{onDelete:"onDelete",onDuplicate:"onDuplicate"},decls:87,vars:27,consts:[[1,"gs-card"],["class","gs-card-content vstack gap-3",3,"formGroup",4,"ngIf","ngIfElse"],["eventPreview",""],[1,"gs-card-footer"],[1,"hstack","gap-1"],[1,"btn","btn-sm","btn-primary",3,"click"],[1,"bi","bi-image"],[1,"ms-auto","hstack","gap-1"],[4,"ngIf","ngIfElse"],["editEventButtons",""],["tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header","border-0","p-4","pb-1"],["id","exampleModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body","p-4"],["id","event-poster",1,"user-select-none","no-hover","mb-4",3,"click"],[1,"upload-event-poster-text","text-center"],["id","event-poster-img",4,"ngIf","ngIfElse"],["eventPoster",""],["type","file","accept","image/png, image/jpeg",3,"change"],["uploadEventPosterButton",""],[1,"input-group","input-group-sm"],["type","text","placeholder","Enter Image URL",1,"form-control"],["type","button",1,"btn","btn-primary"],[4,"ngIf"],[3,"id","eventPosterLink"],["data-bs-keyboard","false","tabindex","-1",1,"modal","fade"],[1,"modal-dialog","modal-fullscreen-sm-down","modal-dialog-centered","modal-dialog-scrollable"],[1,"modal-content",2,"min-height","501px"],[1,"modal-header","border-0","p-4","pb-0"],[1,"modal-title"],["id","speakers-modal-carousel","data-bs-ride","carousel","data-bs-interval","false",1,"carousel","slide"],[1,"carousel-inner"],[1,"carousel-item","active"],["autocomplete","off",1,"vstack","gap-3",3,"formGroup"],[1,"input-group","input-group-sm","mb-4"],["id","inputGroup-sizing-sm",1,"input-group-text"],[1,"bi","bi-search"],["type","text","formControlName","search","placeholder","Search speaker...",1,"form-control"],[1,"mb-2"],[1,"list-group"],[4,"ngFor","ngForOf"],[1,"carousel-item"],[1,"form-label"],["type","text","placeholder","Enter speaker's full name","aria-label","full name","formControlName","speakerName","required","",1,"form-control","form-control-sm"],["class","text-danger text-helper mt-1",4,"ngIf"],["type","email","placeholder","Enter speaker's email address","aria-label","email address","formControlName","speakerEmail","required","",1,"form-control","form-control-sm"],["class","validation-error",4,"ngIf"],["placeholder","Enter speaker's description","formControlName","speakerDescription","rows","3","required","",1,"form-control","form-control-sm"],[1,"d-grid"],["type","button",1,"btn","btn-primary","rounded-pill",3,"disabled","click"],[1,"modal-footer","p-4","py-3","mt-auto"],["type","button","data-bs-target","#speakers-modal-carousel","data-bs-slide","next",1,"btn","btn-sm","btn-outline-primary","rounded-pill","me-auto"],["type","button","data-bs-dismiss","modal",1,"btn","btn-outline-secondary","rounded-pill","btn-sm",3,"click"],["type","button","data-bs-dismiss","modal",1,"btn","btn-primary","rounded-pill","btn-sm","position-relative",3,"click"],[1,"gs-card-content","vstack","gap-3",3,"formGroup"],["type","text","formControlName","eventName","placeholder","Enter event title",1,"form-control","form-control-sm"],["rows","4","formControlName","eventDetails","placeholder","Enter event description",1,"form-control","form-control-sm"],["data-bs-toggle","modal",1,"btn","btn-sm","btn-primary",3,"disabled"],[1,"row","gy-3"],[1,"col-4"],["type","date","formControlName","eventDate",1,"form-control","form-control-sm",3,"ngClass"],[1,"col"],[1,"hstack","gap-2"],["type","time","formControlName","eventStartTime",1,"form-control","form-control-sm",3,"ngClass"],["type","time","formControlName","eventEndTime",1,"form-control","form-control-sm",3,"ngClass"],["type","number","formControlName","eventSeminarHours",1,"form-control","form-control-sm",3,"ngClass"],["aria-label","QR code extent","formControlName","eventIsStrict",1,"form-select","form-select-sm"],[3,"ngValue"],["selected","",3,"ngValue"],[1,"form-control","form-control-sm","form-control-chips"],[1,"input-chips"],["class","input-chip-add",4,"ngIf"],["class","badge bg-primary active user-select-none",4,"ngFor","ngForOf"],["type","text","formControlName","eventRegistrationForm","placeholder","https://forms.gle/...",1,"form-control","form-control-sm"],[1,"btn-group","dropup","w-100"],["type","button","data-bs-toggle","modal","data-bs-target","#generateQRModal",1,"btn","btn-sm","btn-primary","w-100",3,"disabled"],[1,"visually-hidden"],["class","badge bg-primary active user-select-none",3,"click",4,"ngIf"],[1,"badge","bg-primary","active","user-select-none",3,"click"],[1,"bi","bi-check2"],[1,"input-chip-add"],["data-bs-toggle","dropdown","data-bs-auto-close","outside",1,"btn","btn-primary"],[1,"bi","bi-plus-lg"],[1,"dropdown-menu","user-select-none"],["style","display: block; cursor: pointer;",4,"ngFor","ngForOf"],[2,"display","block","cursor","pointer"],[1,"dropdown-item","d-flex","justify-content-between","align-items-center"],["type","checkbox",1,"form-check-input","me-1","mt-0",3,"checked","change"],[1,"badge","bg-primary","active","user-select-none"],["data-bs-toggle","modal",1,"btn","btn-primary"],[1,"gs-card-content","h-100"],["id","event-poster","data-bs-toggle","modal",1,"user-select-none","mb-4",3,"ngClass"],["id","dp-event-title",1,"text-break","mb-0"],["id","dp-event-datetime",1,"text-primary"],[1,"progress","mb-3"],["id","dp-event-description"],["id","event-poster-img"],["width","100%","height","100%","fill","var(--bs-primary)"],["id","event-poster-img",3,"src"],[1,"bi","bi-clipboard-plus"],[1,"bi","bi-backspace"],[1,"btn","btn-sm","btn-danger",3,"disabled","click"],[1,"bi","bi-trash3"],[1,"btn","btn-sm","btn-primary",3,"disabled","click"],[1,"bi","bi-arrow-counterclockwise"],["id","generateQRModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-body"],[1,"vstack","gap-2","p-2"],[1,"mb-3"],[1,"d-flex","align-items-center","justify-content-center","mb-4"],[1,"auto-size-input-container"],[1,"for-auto-size"],["forAutoSizeInput",""],["type","number","id","qr-expiration","value","5",3,"input"],["qrExpirationTime",""],[1,"ms-1"],["class","btn btn-primary rounded-pill shadow w-100",3,"disabled","click",4,"ngIf"],[1,"input-group","input-group-sm","dropup"],["for","begin-qr-code-link","id","label-begin-qr-code-link",1,"input-group-text"],["type","text","id","begin-qr-code-link","placeholder","no link generated yet...","readonly","",1,"form-control","form-control-sm",3,"value"],["type","button","disabled","","data-bs-toggle","tooltip","data-bs-placement","top",1,"btn","btn-primary"],[1,"bi","bi-link-45deg"],["type","button","disabled","",1,"btn","btn-primary"],[1,"btn","btn-primary","rounded-pill","shadow","w-100",3,"disabled","click"],[3,"showSpinner"],[1,"list-group-item"],[1,"d-flex","align-items-center"],[1,"profile-pic"],[1,"mx-3"],[1,"mb-0",2,"font-size","14px"],[1,"mb-0",2,"font-size","12px","color","var(--primary-color)"],[2,"margin-left","auto"],["type","button","class","btn btn-sm btn-outline-primary rounded-pill",3,"click",4,"ngIf"],["type","button","class","btn btn-sm btn-outline-danger rounded-pill",3,"click",4,"ngIf"],["type","button",1,"btn","btn-sm","btn-outline-primary","rounded-pill",3,"click"],["type","button",1,"btn","btn-sm","btn-outline-danger","rounded-pill",3,"click"],[1,"text-danger","text-helper","mt-1"],[1,"validation-error"]],template:function(n,r){if(1&n&&(e.TgZ(0,"div",0),e.YNc(1,L,56,41,"form",1),e.YNc(2,i,17,20,"ng-template",null,2,e.W1O),e.TgZ(4,"div",3),e.TgZ(5,"div",4),e.TgZ(6,"button",5),e.NdJ("click",function(){return r.toggleEventPreview()}),e._UZ(7,"i",6),e._uU(8," \xa0Preview "),e.qZA(),e.qZA(),e.TgZ(9,"div",7),e.YNc(10,s,7,1,"ng-container",8),e.YNc(11,u,2,1,"ng-template",null,9,e.W1O),e.qZA(),e.qZA(),e.qZA(),e.TgZ(13,"div",10),e.TgZ(14,"div",11),e.TgZ(15,"div",12),e.TgZ(16,"div",13),e.TgZ(17,"h5",14),e._uU(18,"Upload Event Poster"),e.qZA(),e._UZ(19,"button",15),e.qZA(),e.TgZ(20,"div",16),e.TgZ(21,"div",17),e.NdJ("click",function(){return r.uploadEventPoster()}),e.TgZ(22,"p",18),e._uU(23,"Change event poster"),e.qZA(),e.YNc(24,v,2,0,"svg",19),e.YNc(25,T,1,1,"ng-template",null,20,e.W1O),e.TgZ(27,"input",21,22),e.NdJ("change",function(l){return r.onFileChange(l)}),e.qZA(),e.qZA(),e.TgZ(29,"h6"),e._uU(30,"Or upload from a URL"),e.qZA(),e.TgZ(31,"div",23),e._UZ(32,"input",24),e.TgZ(33,"button",25),e._uU(34,"Upload"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.YNc(35,Y,34,5,"ng-container",26),e._UZ(36,"app-view-photo-modal",27),e.TgZ(37,"div",28),e.TgZ(38,"div",29),e.TgZ(39,"div",30),e.TgZ(40,"div",31),e.TgZ(41,"h5",32),e._uU(42,"Add Speakers"),e.qZA(),e._UZ(43,"button",15),e.qZA(),e.TgZ(44,"div",33),e.TgZ(45,"div",34),e.TgZ(46,"div",35),e.TgZ(47,"div",16),e.TgZ(48,"form",36),e.TgZ(49,"div",37),e.TgZ(50,"span",38),e._UZ(51,"i",39),e.qZA(),e._UZ(52,"input",40),e.qZA(),e.qZA(),e.TgZ(53,"div"),e.TgZ(54,"p",41),e._uU(55,"Available Speakers "),e.qZA(),e.TgZ(56,"ul",42),e.YNc(57,K,12,4,"ng-container",43),e.ALo(58,"filter"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(59,"div",44),e.TgZ(60,"div",16),e.TgZ(61,"form",36),e.TgZ(62,"div"),e.TgZ(63,"label",45),e._uU(64,"Full name"),e.qZA(),e._UZ(65,"input",46),e.YNc(66,$,2,0,"div",47),e.qZA(),e.TgZ(67,"div"),e.TgZ(68,"label",45),e._uU(69,"Email address"),e.qZA(),e._UZ(70,"input",48),e.YNc(71,X,3,2,"span",49),e.qZA(),e.TgZ(72,"div",41),e.TgZ(73,"label",45),e._uU(74,"Description"),e.qZA(),e._UZ(75,"textarea",50),e.YNc(76,ee,2,0,"div",47),e.qZA(),e.TgZ(77,"div",51),e.TgZ(78,"button",52),e.NdJ("click",function(){return r.addNewSpeaker()}),e._uU(79,"Save Speaker "),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(80,"div",53),e.TgZ(81,"button",54),e._uU(82," Create New Speaker "),e.qZA(),e.TgZ(83,"button",55),e.NdJ("click",function(){return r.resetSpeakerModal()}),e._uU(84,"Close "),e.qZA(),e.TgZ(85,"button",56),e.NdJ("click",function(){return r.saveSpeaker()}),e._uU(86," Save "),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&n){const o=e.MAs(3),l=e.MAs(12),_=e.MAs(26);e.xp6(1),e.Q6J("ngIf",!r.isEventPreviewShown)("ngIfElse",o),e.xp6(9),e.Q6J("ngIf","/home/create-event"===r.url)("ngIfElse",l),e.xp6(3),e.uIk("id","uploadEventPosterModal"+r.eventIndex),e.xp6(11),e.Q6J("ngIf",0===r.event.event_poster_link.length)("ngIfElse",_),e.xp6(11),e.Q6J("ngIf","/home/create-event"!==r.url),e.xp6(1),e.Q6J("id","viewFullEventPosterModal"+r.eventIndex)("eventPosterLink",r.event.event_poster_link),e.xp6(1),e.uIk("id","speakers-modal"+r.eventIndex),e.xp6(11),e.Q6J("formGroup",r.searchSpeakerForm),e.xp6(9),e.Q6J("ngForOf",e.xi3(58,24,r.speakers,r.searchText)),e.xp6(4),e.Q6J("formGroup",r.speakerForm),e.xp6(2),e.uIk("for","speakers-full-name"+r.eventIndex),e.xp6(2),e.uIk("id","speakers-full-name"+r.eventIndex),e.xp6(1),e.Q6J("ngIf",(null==r.speakerName||null==r.speakerName.errors?null:r.speakerName.errors.required)&&(null==r.speakerName?null:r.speakerName.touched)),e.xp6(2),e.uIk("for","speakers-email"+r.eventIndex),e.xp6(2),e.uIk("id","speakers-email"+r.eventIndex),e.xp6(1),e.Q6J("ngIf",(null==r.speakerEmail?null:r.speakerEmail.invalid)&&((null==r.speakerEmail?null:r.speakerEmail.dirty)||(null==r.speakerEmail?null:r.speakerEmail.touched))),e.xp6(2),e.uIk("for","speakers-description"+r.eventIndex),e.xp6(2),e.uIk("id","speakers-description"+r.eventIndex),e.xp6(1),e.Q6J("ngIf",(null==r.speakerDescription||null==r.speakerDescription.errors?null:r.speakerDescription.errors.required)&&(null==r.speakerDescription?null:r.speakerDescription.touched)),e.xp6(2),e.Q6J("disabled",r.speakerForm.invalid)}},directives:[t.O5,p._Y,p.JL,p.sg,p.Fj,p.JJ,p.u,t.mk,p.wV,p.EJ,p.YN,p.Kr,t.sg,U.g,P.m,p.Q7],pipes:[t.uU,w.Z],styles:['.gs-card[_ngcontent-%COMP%]{width:530px}.gs-card[_ngcontent-%COMP%]:focus-within{border-color:var(--bs-primary);box-shadow:0 0 6px 0 rgb(var(--bs-primary-rgb),64%)}#event-poster[_ngcontent-%COMP%]{position:relative;z-index:100;width:100%;aspect-ratio:3/2;border-radius:12px;overflow:hidden;cursor:pointer}#event-poster[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;right:0;bottom:0;left:0;transition:.3s cubic-bezier(.6,.05,.28,.91)}#event-poster[_ngcontent-%COMP%]:hover:before{background-color:#00000040}#event-poster[_ngcontent-%COMP%]:hover   .upload-event-poster-text[_ngcontent-%COMP%]{opacity:1}#event-poster-img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.upload-event-poster-text[_ngcontent-%COMP%]{color:#fff;opacity:0;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transition:opacity .3s cubic-bezier(.6,.05,.28,.91)}.progress[_ngcontent-%COMP%]{height:4px}.auto-size-input-container[_ngcontent-%COMP%]{--height: 64px;width:min-content;height:var(--height);position:relative}#qr-expiration[_ngcontent-%COMP%]{position:absolute;left:0;width:100%;height:var(--height);border:none}#qr-expiration[_ngcontent-%COMP%]::-webkit-outer-spin-button, #qr-expiration[_ngcontent-%COMP%]::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}#qr-expiration[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}#qr-expiration[_ngcontent-%COMP%], .for-auto-size[_ngcontent-%COMP%]{font-size:48px;font-weight:600;text-align:center}.for-auto-size[_ngcontent-%COMP%]{padding:0 4px;visibility:hidden;white-space:pre}']}),d})()},7899:(J,q,m)=>{m.d(q,{m:()=>Z});var g=m(1223),e=m(9808);function p(t,A){1&t&&(g.O4$(),g.TgZ(0,"svg",9),g._UZ(1,"rect",10),g.qZA())}function b(t,A){if(1&t&&g._UZ(0,"img",11),2&t){const C=g.oxw();g.s9C("src",C.eventPosterLink,g.LSH)}}let Z=(()=>{class t{constructor(){this.eventPosterLink="",this.id="viewFullEventPosterModal"}ngOnInit(){}}return t.\u0275fac=function(C){return new(C||t)},t.\u0275cmp=g.Xpm({type:t,selectors:[["app-view-photo-modal"]],inputs:{eventPosterLink:"eventPosterLink",id:"id"},decls:10,vars:3,consts:[["tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-xl","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header","p-4","pb-0","border-0"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body","p-4","pt-4"],["id","event-poster"],["id","event-poster-img",4,"ngIf","ngIfElse"],["eventPoster",""],["id","event-poster-img"],["width","100%","height","100%","fill","var(--bs-primary)"],["id","event-poster-img",3,"src"]],template:function(C,S){if(1&C&&(g.TgZ(0,"div",0),g.TgZ(1,"div",1),g.TgZ(2,"div",2),g.TgZ(3,"div",3),g._UZ(4,"button",4),g.qZA(),g.TgZ(5,"div",5),g.TgZ(6,"div",6),g.YNc(7,p,2,0,"svg",7),g.YNc(8,b,1,1,"ng-template",null,8,g.W1O),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA()),2&C){const U=g.MAs(9);g.uIk("id",S.id),g.xp6(7),g.Q6J("ngIf",0===S.eventPosterLink.length)("ngIfElse",U)}},directives:[e.O5],styles:["#event-poster[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:12px;overflow:hidden}#event-poster-img[_ngcontent-%COMP%]{width:100%;height:100%}"]}),t})()}}]);