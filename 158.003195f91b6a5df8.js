"use strict";(self.webpackChunkGCSEAMS=self.webpackChunkGCSEAMS||[]).push([[158],{8158:(f,u,r)=>{r.r(u),r.d(u,{DashboardModule:()=>T});var l=r(9808),c=r(8118),d=r(5861),g=r(2033),t=r(1223),v=r(4745),m=r(555);function p(n,s){if(1&n&&(t.TgZ(0,"tr",8),t.TgZ(1,"th",9),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.ALo(7,"date"),t.qZA(),t.TgZ(8,"td"),t._uU(9),t.ALo(10,"date"),t.ALo(11,"date"),t.qZA(),t.TgZ(12,"td",10),t._uU(13),t.qZA(),t.TgZ(14,"td",10),t._uU(15),t.qZA(),t.TgZ(16,"td",10),t._uU(17),t.qZA(),t.TgZ(18,"td",10),t._uU(19),t.qZA(),t.qZA()),2&n){const e=s.$implicit,a=t.oxw();t.Q6J("routerLink",e.event_uuid),t.xp6(2),t.Oqu(e.event_id),t.xp6(2),t.Oqu(e.event_title),t.xp6(2),t.Oqu(t.lcZ(7,10,a.getEventDate(e.event_start_date))),t.xp6(3),t.AsE("",t.xi3(10,12,a.getEventStartTime(e.event_start_date),"h:mm a")," - ",t.xi3(11,15,a.getEventEndTime(e.event_end_date),"h:mm a"),""),t.xp6(4),t.Oqu(null!=e.overallAnalytics&&e.overallAnalytics.invited?e.overallAnalytics.invited:0),t.xp6(2),t.Oqu(null!=e.overallAnalytics&&e.overallAnalytics.attendees?e.overallAnalytics.attendees:0),t.xp6(2),t.Oqu(null!=e.overallAnalytics&&e.overallAnalytics.views?e.overallAnalytics.views:0),t.xp6(2),t.Oqu(null!=e.overallAnalytics&&e.overallAnalytics.registered?e.overallAnalytics.registered:0)}}const A=[{path:"",component:(()=>{class n{constructor(e,a){this.dataService=e,this.userService=a,this.multi=[],this.count=1}ngOnInit(){this.fetchEvents()}fetchEvents(){var e=this;const a=new g.K;a.EndPoint="events/past",a.requestType=5,a.authToken=this.userService.HttpOptions,this.dataService.httpRequest(a).subscribe(function(){var o=(0,d.Z)(function*(i){e.setEventSummary(i)});return function(i){return o.apply(this,arguments)}}())}getEventDate(e){const o=e.split("[")[0].toString();return new Date(o)}getEventStartTime(e){const o=e.split("[")[0].toString();return new Date(o)}getEventEndTime(e){const o=e.split("[")[0].toString();return new Date(o)}setEventSummary(e){this.eventsSummary=e,console.log("Angular 10 Promises"),this.linkAnalyticsData().then(a=>{}).catch(a=>{console.log("Promise rejected with "+JSON.stringify(a))}),console.log("events summary from setEventSummary()"),console.log(this.eventsSummary),console.log("events summary:---------------------------------------------------------")}linkAnalyticsData(){var e=this;return(0,d.Z)(function*(){for(let a of e.eventsSummary){a.event_id=e.count++;const o=new g.K;o.EndPoint="analytics/"+a.event_uuid,o.requestType=5,o.authToken=e.userService.HttpOptions,e.dataService.httpRequest(o).subscribe(function(){var i=(0,d.Z)(function*(h){a.overallAnalytics=h});return function(h){return i.apply(this,arguments)}}())}})()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(v.D),t.Y36(m.K))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-dashboard"]],decls:27,vars:1,consts:[["id","dashboard-body"],[1,"gs-header"],[1,"gs-cards-body"],[1,"gs-card","tables-card"],[1,"table","table-hover","table-click","dashboard-table"],["scope","col"],["scope","col",1,"text-end"],["style","cursor: pointer",3,"routerLink",4,"ngFor","ngForOf"],[2,"cursor","pointer",3,"routerLink"],["scope","row"],[1,"text-end"]],template:function(e,a){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"h2"),t._uU(3,"Dashboard"),t.qZA(),t.qZA(),t.TgZ(4,"div",2),t.TgZ(5,"div",3),t.TgZ(6,"table",4),t.TgZ(7,"thead"),t.TgZ(8,"tr"),t.TgZ(9,"th",5),t._uU(10,"No."),t.qZA(),t.TgZ(11,"th",5),t._uU(12,"Event Name"),t.qZA(),t.TgZ(13,"th",5),t._uU(14,"Date"),t.qZA(),t.TgZ(15,"th",5),t._uU(16,"Time"),t.qZA(),t.TgZ(17,"th",6),t._uU(18,"Invited"),t.qZA(),t.TgZ(19,"th",6),t._uU(20,"Attended"),t.qZA(),t.TgZ(21,"th",6),t._uU(22,"Views"),t.qZA(),t.TgZ(23,"th",6),t._uU(24,"Registrants"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(25,"tbody"),t.YNc(26,p,20,18,"tr",7),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(26),t.Q6J("ngForOf",a.eventsSummary))},directives:[l.sg,c.rH],pipes:[l.uU],styles:["#dashboard-body[_ngcontent-%COMP%]{height:100%;overflow-y:scroll}.gs-cards-body[_ngcontent-%COMP%]{--spacing: 32px;display:inline-flex;flex-direction:column;gap:var(--spacing);width:100%;padding:var(--spacing)}.gs-card[_ngcontent-%COMP%]{overflow:auto}.tables-card[_ngcontent-%COMP%]{height:500px}.table[_ngcontent-%COMP%]{--spacing: 24px}.table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{position:sticky;top:0;background-color:#fff;box-shadow:0 1px #000}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{white-space:nowrap}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child, .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{padding-left:var(--spacing)}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child, .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{padding-right:var(--spacing)}"]}),n})()}];let Z=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[c.Bz.forChild(A)],c.Bz]}),n})();var y=r(3419);let T=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[l.ez,Z,y.pT]]}),n})()}}]);