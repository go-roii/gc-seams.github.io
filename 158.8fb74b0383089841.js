"use strict";(self.webpackChunkGCSEAMS=self.webpackChunkGCSEAMS||[]).push([[158],{8158:(y,h,r)=>{r.r(h),r.d(h,{DashboardModule:()=>b});var d=r(9808),l=r(8118),c=r(5861),u=r(2033),g=r(4012),t=r(1223),v=r(968),Z=r(555);function m(a,s){if(1&a&&(t.TgZ(0,"tr",23),t.TgZ(1,"th",24),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.ALo(7,"date"),t.qZA(),t.TgZ(8,"td"),t._uU(9),t.ALo(10,"date"),t.ALo(11,"date"),t.qZA(),t.TgZ(12,"td",25),t._uU(13),t.qZA(),t.TgZ(14,"td",25),t._uU(15),t.qZA(),t.TgZ(16,"td",25),t._uU(17),t.qZA(),t.TgZ(18,"td",25),t._uU(19),t.qZA(),t.TgZ(20,"td",25),t._uU(21),t.qZA(),t.qZA()),2&a){const e=s.$implicit,n=t.oxw();t.Q6J("routerLink",e.event_uuid),t.xp6(2),t.Oqu(e.event_id),t.xp6(2),t.Oqu(e.event_title),t.xp6(2),t.Oqu(t.lcZ(7,11,n.getEventDate(e.event_start_date))),t.xp6(3),t.AsE("",t.xi3(10,13,n.getEventStartTime(e.event_start_date),"h:mm a")," - ",t.xi3(11,16,n.getEventEndTime(e.event_end_date),"h:mm a"),""),t.xp6(4),t.hij("",e.seminar_hours," hr"),t.xp6(2),t.Oqu(null!=e.overallAnalytics&&e.overallAnalytics.invited?e.overallAnalytics.invited:0),t.xp6(2),t.Oqu(null!=e.overallAnalytics&&e.overallAnalytics.attendees?e.overallAnalytics.attendees:0),t.xp6(2),t.Oqu(null!=e.overallAnalytics&&e.overallAnalytics.views?e.overallAnalytics.views:0),t.xp6(2),t.Oqu(null!=e.overallAnalytics&&e.overallAnalytics.registered?e.overallAnalytics.registered:0)}}const p=[{path:"",component:(()=>{class a{constructor(e,n){this.dataService=e,this.userService=n,this.summary={total_number_of_events_conducted:0,total_number_of_seminar_hours_given:0,total_number_of_views:0},this.eventsSummary=[],this.multi=[],this.count=1}ngOnInit(){this.fetchEvents(),this.getAnalyticsSummary()}fetchEvents(){var e=this;const n=new u.K;n.EndPoint="events/past",n.RequestType=g.l.GET_REQUIRES_AUTHENTICATION,n.AuthToken=this.userService.HttpOptions,this.dataService.httpRequest(n).subscribe(function(){var o=(0,c.Z)(function*(i){e.eventsSummary=i,e.getBestDay(e.linkAnalyticsData())});return function(i){return o.apply(this,arguments)}}())}getAnalyticsSummary(){var e=this;const n=new u.K;n.EndPoint="analytics/dashboard",n.RequestType=g.l.GET_REQUIRES_AUTHENTICATION,n.AuthToken=this.userService.HttpOptions,this.dataService.httpRequest(n).subscribe(function(){var o=(0,c.Z)(function*(i){e.summary=i});return function(i){return o.apply(this,arguments)}}())}getBestDay(e){console.log(e);let n=[];e.forEach(o=>{n.push(`${this.getEventDate(o.event_start_date).getDay()}:${null==o?void 0:o.overallAnalytics}`)});for(let o of e)console.log(0);console.log(n)}getEventDate(e){const o=e.split("[")[0].toString();return new Date(o)}getEventStartTime(e){const o=e.split("[")[0].toString();return new Date(o)}getEventEndTime(e){const o=e.split("[")[0].toString();return new Date(o)}linkAnalyticsData(){for(let e of this.eventsSummary){e.event_id=this.count++;const n=new u.K;n.EndPoint=`analytics/${e.event_uuid}`,n.RequestType=g.l.GET_REQUIRES_AUTHENTICATION,n.AuthToken=this.userService.HttpOptions,this.dataService.httpRequest(n).subscribe(function(){var o=(0,c.Z)(function*(i){e.overallAnalytics=i});return function(i){return o.apply(this,arguments)}}())}return this.eventsSummary}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(v.D),t.Y36(Z.K))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-dashboard"]],decls:58,vars:4,consts:[["id","dashboard-body"],[1,"gs-header"],[1,"gs-cards-body"],[1,"row","g-4"],[1,"col-xxl-4","col-xl-6"],[1,"gs-card","dashboard-card","bg-primary","text-light","border-0"],[1,"dashboard-card-icon-bg","bg-white",2,"--bs-bg-opacity","0.12"],[1,"bi","bi-calendar3-event","mb-0"],[1,"d-flex","flex-column","justify-content-center"],[1,"mb-1","fw-bolder"],[1,"mb-0"],[1,"gs-card","dashboard-card","bg-danger","text-light","border-0"],[1,"bi","bi-clock","mb-0"],[1,"col-xxl-4","col-xl-12"],[1,"gs-card","dashboard-card","bg-warning","border-0"],[1,"dashboard-card-icon-bg","bg-white",2,"--bs-bg-opacity","0.2"],[1,"bi","bi-eye","mb-0"],[1,"col-12"],[1,"gs-card","tables-card"],[1,"table","table-hover","table-click","dashboard-table"],["scope","col"],["scope","col",1,"text-end"],["style","cursor: pointer",3,"routerLink",4,"ngFor","ngForOf"],[2,"cursor","pointer",3,"routerLink"],["scope","row"],[1,"text-end"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"h2"),t._uU(3,"Dashboard"),t.qZA(),t.qZA(),t.TgZ(4,"div",2),t.TgZ(5,"div",3),t.TgZ(6,"div",4),t.TgZ(7,"div",5),t.TgZ(8,"div",6),t._UZ(9,"h1",7),t.qZA(),t.TgZ(10,"div",8),t.TgZ(11,"h1",9),t._uU(12),t.qZA(),t.TgZ(13,"p",10),t._uU(14,"Total Events Conducted"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(15,"div",4),t.TgZ(16,"div",11),t.TgZ(17,"div",6),t._UZ(18,"h1",12),t.qZA(),t.TgZ(19,"div",8),t.TgZ(20,"h1",9),t._uU(21),t.qZA(),t.TgZ(22,"p",10),t._uU(23,"Total Seminar Hours Rendered"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(24,"div",13),t.TgZ(25,"div",14),t.TgZ(26,"div",15),t._UZ(27,"h1",16),t.qZA(),t.TgZ(28,"div",8),t.TgZ(29,"h1",9),t._uU(30),t.qZA(),t.TgZ(31,"p",10),t._uU(32,"Total Views"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(33,"div",17),t.TgZ(34,"div",18),t.TgZ(35,"table",19),t.TgZ(36,"thead"),t.TgZ(37,"tr"),t.TgZ(38,"th",20),t._uU(39,"No."),t.qZA(),t.TgZ(40,"th",20),t._uU(41,"Event Name"),t.qZA(),t.TgZ(42,"th",20),t._uU(43,"Date"),t.qZA(),t.TgZ(44,"th",20),t._uU(45,"Time"),t.qZA(),t.TgZ(46,"th",21),t._uU(47,"Seminar Hours"),t.qZA(),t.TgZ(48,"th",21),t._uU(49,"Invited"),t.qZA(),t.TgZ(50,"th",21),t._uU(51,"Attended"),t.qZA(),t.TgZ(52,"th",21),t._uU(53,"Views"),t.qZA(),t.TgZ(54,"th",21),t._uU(55,"Registrants"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(56,"tbody"),t.YNc(57,m,22,19,"tr",22),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(12),t.Oqu(n.summary.total_number_of_events_conducted),t.xp6(9),t.hij("",n.summary.total_number_of_seminar_hours_given," hr"),t.xp6(9),t.Oqu(n.summary.total_number_of_views),t.xp6(27),t.Q6J("ngForOf",n.eventsSummary))},directives:[d.sg,l.rH],pipes:[d.uU],styles:["#dashboard-body[_ngcontent-%COMP%]{height:100%;overflow-y:scroll}.gs-cards-body[_ngcontent-%COMP%]{--spacing: 32px;display:inline-flex;flex-direction:column;gap:var(--spacing);width:100%;padding:var(--spacing)}.gs-card[_ngcontent-%COMP%]{overflow:auto;height:100px}.dashboard-card[_ngcontent-%COMP%]{display:flex;flex-direction:row;height:200px;padding:48px}.dashboard-card-icon-bg[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;border-radius:100%;margin-right:48px;aspect-ratio:1/1}.tables-card[_ngcontent-%COMP%]{height:500px}.table[_ngcontent-%COMP%]{--spacing: 24px}.table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{position:sticky;top:0;background-color:#fff;box-shadow:0 1px #000}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{white-space:nowrap}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child, .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{padding-left:var(--spacing)}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child, .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{padding-right:var(--spacing)}"]}),a})()}];let A=(()=>{class a{}return a.\u0275fac=function(e){return new(e||a)},a.\u0275mod=t.oAB({type:a}),a.\u0275inj=t.cJS({imports:[[l.Bz.forChild(p)],l.Bz]}),a})();var T=r(3419);let b=(()=>{class a{}return a.\u0275fac=function(e){return new(e||a)},a.\u0275mod=t.oAB({type:a}),a.\u0275inj=t.cJS({imports:[[d.ez,A,T.pT]]}),a})()}}]);